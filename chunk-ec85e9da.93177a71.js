(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-ec85e9da"],{"0b59":function(e,t,a){"use strict";function l(e,t,a){try{window.androidFunction.setBoolSetting(e,t,a)}catch(l){}}function o(e,t,a){try{window.androidFunction.setIntSetting(e,parseInt(t),a)}catch(l){}}function c(e,t,a){try{window.androidFunction.setStringSetting(e,t,a)}catch(l){}}function n(e,t,a){try{window.androidFunction.setFloatSetting(e,parseFloat(t),a)}catch(l){}}a.d(t,"a",(function(){return l})),a.d(t,"c",(function(){return o})),a.d(t,"d",(function(){return c})),a.d(t,"b",(function(){return n}))},1146:function(e,t,a){},"1c6c":function(e,t,a){},"21a7":function(e,t,a){"use strict";a("68ef"),a("cb51"),a("3743"),a("1a04"),a("1146")},"30ac":function(e,t,a){"use strict";a.d(t,"a",(function(){return j}));var l=a("23f9"),o=a("7a23"),c=a("1fba"),n=a("e5f6"),r=a("5aa0"),i=a("fa7c"),u=a("8db7"),d=a("450f"),s=a("d7d5");const[b,m]=Object(c["a"])("slider"),v={min:Object(n["c"])(0),max:Object(n["c"])(100),step:Object(n["c"])(1),range:Boolean,reverse:Boolean,disabled:Boolean,readonly:Boolean,vertical:Boolean,barHeight:n["f"],buttonSize:n["f"],activeColor:String,inactiveColor:String,modelValue:{type:[Number,Array],default:0}};var g=Object(o["defineComponent"])({name:b,props:v,emits:["change","dragEnd","dragStart","update:modelValue"],setup(e,{emit:t,slots:a}){let l,c,n;const b=Object(o["ref"])(),v=[Object(o["ref"])(),Object(o["ref"])()],g=Object(o["ref"])(),j=Object(s["a"])(),O=Object(o["computed"])(()=>Number(e.max)-Number(e.min)),f=Object(o["computed"])(()=>{const t=e.vertical?"width":"height";return{background:e.inactiveColor,[t]:Object(r["b"])(e.barHeight)}}),h=t=>e.range&&Array.isArray(t),p=()=>{const{modelValue:t,min:a}=e;return h(t)?100*(t[1]-t[0])/O.value+"%":100*(t-Number(a))/O.value+"%"},V=()=>{const{modelValue:t,min:a}=e;return h(t)?100*(t[0]-Number(a))/O.value+"%":"0%"},x=Object(o["computed"])(()=>{const t=e.vertical?"height":"width",a={[t]:p(),background:e.activeColor};g.value&&(a.transition="none");const l=()=>e.vertical?e.reverse?"bottom":"top":e.reverse?"right":"left";return a[l()]=V(),a}),C=t=>{const a=+e.min,l=+e.max,o=+e.step;t=Object(r["d"])(t,a,l);const c=Math.round((t-a)/o)*o;return Object(r["a"])(a,c)},w=()=>{const t=e.modelValue;n=h(t)?t.map(C):C(t)},N=t=>{var a,l;const o=null!=(a=t[0])?a:Number(e.min),c=null!=(l=t[1])?l:Number(e.max);return o>c?[c,o]:[o,c]},y=(a,l)=>{a=h(a)?N(a).map(C):C(a),Object(i["j"])(a,e.modelValue)||t("update:modelValue",a),l&&!Object(i["j"])(a,n)&&t("change",a)},k=t=>{if(t.stopPropagation(),e.disabled||e.readonly)return;w();const{min:a,reverse:l,vertical:o,modelValue:c}=e,n=Object(d["useRect"])(b),r=()=>o?l?n.bottom-t.clientY:t.clientY-n.top:l?n.right-t.clientX:t.clientX-n.left,i=o?n.height:n.width,u=Number(a)+r()/i*O.value;if(h(c)){const[e,t]=c,a=(e+t)/2;y(u<=a?[u,t]:[e,u],!0)}else y(u,!0)},S=t=>{e.disabled||e.readonly||(j.start(t),c=e.modelValue,w(),g.value="start")},T=a=>{if(e.disabled||e.readonly)return;"start"===g.value&&t("dragStart",a),Object(u["e"])(a,!0),j.move(a),g.value="dragging";const o=Object(d["useRect"])(b),r=e.vertical?j.deltaY.value:j.deltaX.value,i=e.vertical?o.height:o.width;let s=r/i*O.value;if(e.reverse&&(s=-s),h(n)){const t=e.reverse?1-l:l;c[t]=n[t]+s}else c=n+s;y(c)},I=a=>{e.disabled||e.readonly||("dragging"===g.value&&(y(c,!0),t("dragEnd",a)),g.value="")},_=t=>{if("number"===typeof t){const e=["left","right"];return m("button-wrapper",e[t])}return m("button-wrapper",e.reverse?"left":"right")},M=(t,n)=>{const i="dragging"===g.value;if("number"===typeof n){const e=a[0===n?"left-button":"right-button"];let o;if(i&&Array.isArray(c)&&(o=c[0]>c[1]?1^l:l),e)return e({value:t,dragging:i,dragIndex:o})}return a.button?a.button({value:t,dragging:i}):Object(o["createVNode"])("div",{class:m("button"),style:Object(r["f"])(e.buttonSize)},null)},B=t=>{const a="number"===typeof t?e.modelValue[t]:e.modelValue;return Object(o["createVNode"])("div",{ref:v[null!=t?t:0],role:"slider",class:_(t),tabindex:e.disabled?void 0:0,"aria-valuemin":e.min,"aria-valuenow":a,"aria-valuemax":e.max,"aria-disabled":e.disabled||void 0,"aria-readonly":e.readonly||void 0,"aria-orientation":e.vertical?"vertical":"horizontal",onTouchstartPassive:e=>{"number"===typeof t&&(l=t),S(e)},onTouchend:I,onTouchcancel:I,onClick:u["i"]},[M(a,t)])};return y(e.modelValue),Object(d["useCustomFieldValue"])(()=>e.modelValue),v.forEach(e=>{Object(d["useEventListener"])("touchmove",T,{target:e})}),()=>Object(o["createVNode"])("div",{ref:b,style:f.value,class:m({vertical:e.vertical,disabled:e.disabled}),onClick:k},[Object(o["createVNode"])("div",{class:m("bar"),style:x.value},[e.range?[B(0),B(1)]:B()])])}});const j=Object(l["a"])(g)},"4d86":function(e,t,a){"use strict";a("68ef"),a("5c56")},"5c56":function(e,t,a){},"69cf":function(e,t,a){"use strict";a.r(t);var l=a("a136"),o=(a("4d86"),a("f23a")),c=(a("21a7"),a("30ac")),n=(a("c9ab"),a("5f24")),r=(a("ac6b"),a("dda5")),i=(a("fc63"),a("9a1c")),u=(a("89a0"),a("6c44")),d=(a("aa5a"),a("e31f")),s=(a("72ff"),a("7a23")),b=a("0b59"),m=(a("2849"),a("72b2"));const v={class:"custom-button"};var g={__name:"SoftSettingsView",setup(e){const t=Object(s["ref"])(!1),a=Object(s["ref"])(!1),g=Object(s["ref"])(!1),j=Object(s["ref"])(!1),O=Object(s["ref"])(!1),f=Object(s["ref"])(!1),h=Object(s["ref"])({ui4Navbar:!1,justGoToVideoRecoder:!1,firstVideoTab:0,waterMarkSelf:!0,use265:!0,isBydAPA:!1,goodIndex:!1,parkingCarOutput:3,parkingCarMode:6,parkingCarRotation:1,parkingCarApaMode:0,parkingCarApaMode2:0,cameraWidth:-1,cameraD:0,cameraHeight:-1,cameraChannel:-1,micChannel:0,micDouble:!1});let p=localStorage.getItem("pictureWidth");const V=Object(s["ref"])(210);V.value=p?parseInt(p):210;let x=localStorage.getItem("fontsize");const C=Object(s["ref"])(x?parseInt(x):10);let w=localStorage.getItem("textlocation");const N=Object(s["ref"])(!w||1==parseInt(w));let y=localStorage.getItem("themeauto");const k=Object(s["ref"])(!y||1==parseInt(y));function S(){N.value?localStorage.setItem("textlocation",1):localStorage.setItem("textlocation",0)}function T(){k.value?localStorage.setItem("themeauto",1):localStorage.setItem("themeauto",0)}let I=localStorage.getItem("pictureHeight");const _=Object(s["ref"])(210/1.7);_.value=I?parseInt(I):210/1.7;const M=Object(s["ref"])(!1),B=Object(s["ref"])(!1);function D(){try{let e=window.androidFunction.getSoftSettings();h.value=JSON.parse(e)}catch(e){}}function U(e,t){if(e){let a=e.find(e=>e.value==t);if(a)return a.text}}function A(){_.value=V.value/1.7,C.value=_.value/10,localStorage.setItem("fontsize",C.value),localStorage.setItem("pictureWidth",V.value),localStorage.setItem("pictureHeight",_.value)}const E=({selectedOptions:e})=>{f.value=!1,h.value.firstVideoTab=e[0].value,b["c"]("firstVideoTab",h.value.firstVideoTab,0)},z=[{text:"自动",value:0},{text:"720P",value:720},{text:"960P",value:960}],H=[{text:"侦测记录",value:0},{text:"熄火视频",value:1},{text:"行车视频",value:2},{text:"手动录制",value:3}],P=({selectedOptions:e})=>{M.value=!1,h.value.cameraD=e[0].value,b["c"]("cameraD",h.value.cameraD)};function W(e){localStorage.setItem("tryBeta",e)}return Object(s["onMounted"])(()=>{D(),a.value=localStorage.getItem("tryBeta"),null==a.value?a.value=!1:a.value="true"==a.value}),(e,p)=>{const x=d["a"],C=u["a"],w=i["a"],y=r["a"],I=n["a"],_=c["a"],D=o["a"],F=l["a"];return Object(s["openBlock"])(),Object(s["createElementBlock"])("main",null,[Object(s["createVNode"])(F,{inset:"",style:{"margin-top":"20px"}},{default:Object(s["withCtx"])(()=>[Object(s["createVNode"])(C,{center:"",label:"开启则接收测试版本提醒，关闭则只接收稳定版本的更新提醒","is-link":""},{title:Object(s["withCtx"])(()=>[Object(s["createTextVNode"])(" 接收测试版更新提示 ")]),"right-icon":Object(s["withCtx"])(()=>[Object(s["createVNode"])(x,{modelValue:a.value,"onUpdate:modelValue":p[0]||(p[0]=e=>a.value=e),onChange:p[1]||(p[1]=e=>W(a.value))},null,8,["modelValue"])]),_:1}),Object(s["createVNode"])(C,{center:"",label:"根据系统主题自动切换日夜模式","is-link":""},{title:Object(s["withCtx"])(()=>[Object(s["createTextVNode"])(" 跟随系统主题 ")]),"right-icon":Object(s["withCtx"])(()=>[Object(s["createVNode"])(x,{modelValue:k.value,"onUpdate:modelValue":p[2]||(p[2]=e=>k.value=e),onChange:T},null,8,["modelValue"])]),_:1}),Object(s["createVNode"])(C,{center:"",label:"适用于UI4的导航栏","is-link":""},{title:Object(s["withCtx"])(()=>[Object(s["createTextVNode"])(" 白色导航栏 ")]),"right-icon":Object(s["withCtx"])(()=>[Object(s["createVNode"])(x,{modelValue:h.value.ui4Navbar,"onUpdate:modelValue":p[3]||(p[3]=e=>h.value.ui4Navbar=e),onChange:p[4]||(p[4]=e=>b["a"]("ui4Navbar",h.value.ui4Navbar))},null,8,["modelValue"])]),_:1}),Object(s["createVNode"])(C,{center:"",label:"打开后默认进入视频记录页面","is-link":""},{title:Object(s["withCtx"])(()=>[Object(s["createTextVNode"])(" 默认进入视频记录页面 ")]),"right-icon":Object(s["withCtx"])(()=>[Object(s["createVNode"])(x,{modelValue:h.value.justGoToVideoRecoder,"onUpdate:modelValue":p[5]||(p[5]=e=>h.value.justGoToVideoRecoder=e),onChange:p[6]||(p[6]=e=>b["a"]("justGoToVideoRecoder",h.value.justGoToVideoRecoder))},null,8,["modelValue"])]),_:1}),Object(s["createVNode"])(C,{center:"",label:"进入视频记录后默认显示的录制模式","is-link":"",onClick:p[7]||(p[7]=e=>f.value=!0)},{title:Object(s["withCtx"])(()=>[Object(s["createTextVNode"])(" 视频记录页面默认显示 ")]),"right-icon":Object(s["withCtx"])(()=>[Object(s["createTextVNode"])(Object(s["toDisplayString"])(U(H,h.value.firstVideoTab))+" ",1),Object(s["createVNode"])(w,{name:"arrow"})]),_:1}),Object(s["createVNode"])(I,{show:f.value,"onUpdate:show":p[9]||(p[9]=e=>f.value=e),round:"",position:"bottom"},{default:Object(s["withCtx"])(()=>[Object(s["createVNode"])(y,{columns:H,onCancel:p[8]||(p[8]=e=>f.value=!1),onConfirm:E})]),_:1},8,["show"]),Object(s["createVNode"])(C,{center:"",label:"视频记录页面录制时间显示到缩略图下方，不遮挡缩略图","is-link":""},{title:Object(s["withCtx"])(()=>[Object(s["createTextVNode"])(" 文字显示到缩略图下方 ")]),"right-icon":Object(s["withCtx"])(()=>[Object(s["createVNode"])(x,{modelValue:N.value,"onUpdate:modelValue":p[10]||(p[10]=e=>N.value=e),onChange:S},null,8,["modelValue"])]),_:1}),Object(s["createVNode"])(C,{center:"",label:"视频记录页面的预览图的宽度","is-link":"",onClick:p[11]||(p[11]=e=>t.value=!0)},{title:Object(s["withCtx"])(()=>[Object(s["createTextVNode"])(" 预览图宽度 ")]),"right-icon":Object(s["withCtx"])(()=>[Object(s["createTextVNode"])(Object(s["toDisplayString"])(V.value)+" ",1),Object(s["createVNode"])(w,{name:"arrow"})]),_:1}),Object(s["createVNode"])(I,{show:t.value,"onUpdate:show":p[13]||(p[13]=e=>t.value=e),round:"",position:"bottom"},{default:Object(s["withCtx"])(()=>[Object(s["createVNode"])(D,{name:"slider",label:"预览图宽度",style:{margin:"20px 0",padding:"20px","padding-right":"30px"}},{input:Object(s["withCtx"])(()=>[Object(s["createVNode"])(_,{modelValue:V.value,"onUpdate:modelValue":p[12]||(p[12]=e=>V.value=e),min:120,max:250,step:10,onChange:A},{button:Object(s["withCtx"])(()=>[Object(s["createElementVNode"])("div",v,Object(s["toDisplayString"])(V.value),1)]),_:1},8,["modelValue"])]),_:1})]),_:1},8,["show"])]),_:1}),Object(s["createVNode"])(F,{inset:"",style:{"margin-top":"20px"}},{default:Object(s["withCtx"])(()=>[Object(s["createVNode"])(C,{center:"",label:"关闭则使用H.264编码，H.265编码画质更好，占用存储空间更小，没问题不要乱改！","is-link":""},{title:Object(s["withCtx"])(()=>[Object(s["createTextVNode"])(" 使用H.265编码 ")]),"right-icon":Object(s["withCtx"])(()=>[Object(s["createVNode"])(x,{modelValue:h.value.use265,"onUpdate:modelValue":p[14]||(p[14]=e=>h.value.use265=e),onChange:p[15]||(p[15]=e=>b["a"]("use265",h.value.use265))},null,8,["modelValue"])]),_:1}),Object(s["createVNode"])(C,{center:"",label:"关闭则水印直接打在画面上，开启则在画面上方单独绘制水印内容","is-link":""},{title:Object(s["withCtx"])(()=>[Object(s["createTextVNode"])(" 水印独立画面之外 ")]),"right-icon":Object(s["withCtx"])(()=>[Object(s["createVNode"])(x,{modelValue:h.value.waterMarkSelf,"onUpdate:modelValue":p[16]||(p[16]=e=>h.value.waterMarkSelf=e),onChange:p[17]||(p[17]=e=>b["a"]("waterMarkSelf",h.value.waterMarkSelf))},null,8,["modelValue"])]),_:1})]),_:1}),Object(s["createVNode"])(F,{inset:"",style:{"margin-top":"20px"}},{default:Object(s["withCtx"])(()=>[Object(s["createVNode"])(C,{center:"",label:"摄像头输出分辨率宽度，没问题不要乱改！","is-link":"",onClick:p[18]||(p[18]=e=>g.value=!0)},{title:Object(s["withCtx"])(()=>[Object(s["createTextVNode"])(" 摄像头输出宽度 ")]),"right-icon":Object(s["withCtx"])(()=>[Object(s["createTextVNode"])(Object(s["toDisplayString"])(-1==h.value.cameraWidth?"自动":h.value.cameraWidth)+" ",1),Object(s["createVNode"])(w,{name:"arrow"})]),_:1}),Object(s["createVNode"])(I,{show:g.value,"onUpdate:show":p[21]||(p[21]=e=>g.value=e),round:""},{default:Object(s["withCtx"])(()=>[Object(s["createVNode"])(D,{type:"number",modelValue:h.value.cameraWidth,"onUpdate:modelValue":p[19]||(p[19]=e=>h.value.cameraWidth=e),label:"设置-1为自动",style:{margin:"20px 0",padding:"20px","padding-right":"30px"},onChange:p[20]||(p[20]=e=>b["c"]("cameraWidth",h.value.cameraWidth,-1))},null,8,["modelValue"])]),_:1},8,["show"]),Object(s["createVNode"])(C,{center:"",label:"摄像头输出分辨率高度，没问题不要乱改！","is-link":"",onClick:p[22]||(p[22]=e=>j.value=!0)},{title:Object(s["withCtx"])(()=>[Object(s["createTextVNode"])(" 摄像头输出高度 ")]),"right-icon":Object(s["withCtx"])(()=>[Object(s["createTextVNode"])(Object(s["toDisplayString"])(-1==h.value.cameraHeight?"自动":h.value.cameraHeight)+" ",1),Object(s["createVNode"])(w,{name:"arrow"})]),_:1}),Object(s["createVNode"])(I,{show:j.value,"onUpdate:show":p[25]||(p[25]=e=>j.value=e),round:""},{default:Object(s["withCtx"])(()=>[Object(s["createVNode"])(D,{type:"number",modelValue:h.value.cameraHeight,"onUpdate:modelValue":p[23]||(p[23]=e=>h.value.cameraHeight=e),label:"设置-1为自动",style:{margin:"20px 0",padding:"20px","padding-right":"30px"},onChange:p[24]||(p[24]=e=>b["c"]("cameraHeight",h.value.cameraHeight,-1))},null,8,["modelValue"])]),_:1},8,["show"]),Object(s["createVNode"])(C,{center:"",label:"摄像头输出通道，没问题不要乱改！","is-link":"",onClick:p[26]||(p[26]=e=>O.value=!0)},{title:Object(s["withCtx"])(()=>[Object(s["createTextVNode"])(" 摄像头输出通道 ")]),"right-icon":Object(s["withCtx"])(()=>[Object(s["createTextVNode"])(Object(s["toDisplayString"])(-1==h.value.cameraChannel?"自动":h.value.cameraChannel)+" ",1),Object(s["createVNode"])(w,{name:"arrow"})]),_:1}),Object(s["createVNode"])(I,{show:O.value,"onUpdate:show":p[29]||(p[29]=e=>O.value=e),round:""},{default:Object(s["withCtx"])(()=>[Object(s["createVNode"])(D,{type:"number",modelValue:h.value.cameraChannel,"onUpdate:modelValue":p[27]||(p[27]=e=>h.value.cameraChannel=e),label:"设置-1为自动",style:{margin:"20px 0",padding:"20px","padding-right":"30px"},onChange:p[28]||(p[28]=e=>b["c"]("cameraChannel",h.value.cameraChannel,-1))},null,8,["modelValue"])]),_:1},8,["show"]),Object(s["createVNode"])(C,{center:"",label:"摄像头类型，没问题不要乱改！","is-link":"",onClick:p[30]||(p[30]=e=>M.value=!0)},{title:Object(s["withCtx"])(()=>[Object(s["createTextVNode"])(" 摄像头类型 ")]),"right-icon":Object(s["withCtx"])(()=>[Object(s["createTextVNode"])(Object(s["toDisplayString"])(0==h.value.cameraD?"自动":h.value.cameraD+"P")+" ",1),Object(s["createVNode"])(w,{name:"arrow"})]),_:1}),Object(s["createVNode"])(I,{show:M.value,"onUpdate:show":p[32]||(p[32]=e=>M.value=e),round:"",position:"bottom"},{default:Object(s["withCtx"])(()=>[Object(s["createVNode"])(y,{columns:z,onCancel:p[31]||(p[31]=e=>M.value=!1),onConfirm:P})]),_:1},8,["show"])]),_:1}),Object(s["createVNode"])(F,{inset:"",style:{"margin-top":"20px"}},{default:Object(s["withCtx"])(()=>[Object(s["createVNode"])(C,{center:"",label:"关闭则采用单通道录音","is-link":""},{title:Object(s["withCtx"])(()=>[Object(s["createTextVNode"])(" 双通道录音 ")]),"right-icon":Object(s["withCtx"])(()=>[Object(s["createVNode"])(x,{modelValue:h.value.micDouble,"onUpdate:modelValue":p[33]||(p[33]=e=>h.value.micDouble=e),onChange:p[34]||(p[34]=e=>b["a"]("micDouble",h.value.micDouble,!1))},null,8,["modelValue"])]),_:1}),Object(s["createVNode"])(C,{center:"",label:"麦克风通道，如果影像小迪或者音乐播放异常或熄火录制异常，可以考虑调整此通道。","is-link":"",onClick:p[35]||(p[35]=e=>B.value=!0)},{title:Object(s["withCtx"])(()=>[Object(s["createTextVNode"])(" 麦克风通道 ")]),"right-icon":Object(s["withCtx"])(()=>[Object(s["createTextVNode"])(Object(s["toDisplayString"])(h.value.micChannel)+" ",1),Object(s["createVNode"])(w,{name:"arrow"})]),_:1}),Object(s["createVNode"])(I,{show:B.value,"onUpdate:show":p[38]||(p[38]=e=>B.value=e),round:""},{default:Object(s["withCtx"])(()=>[Object(s["createVNode"])(D,{type:"number",modelValue:h.value.micChannel,"onUpdate:modelValue":p[36]||(p[36]=e=>h.value.micChannel=e),label:"数值范围：0-9",style:{margin:"20px 0",padding:"20px","padding-right":"30px"},onChange:p[37]||(p[37]=e=>b["c"]("micChannel",h.value.micChannel,0))},null,8,["modelValue"])]),_:1},8,["show"])]),_:1}),Object(s["createVNode"])(F,{inset:"",style:{"margin-top":"20px"}},{default:Object(s["withCtx"])(()=>[Object(s["createVNode"])(m["a"])]),_:1})])}}};a("bcdb");const j=g;t["default"]=j},"72ff":function(e,t,a){"use strict";a("68ef"),a("e3b3"),a("d9d2")},9617:function(e,t,a){},a136:function(e,t,a){"use strict";a.d(t,"a",(function(){return m}));var l=a("23f9"),o=a("7a23"),c=a("1fba"),n=a("e5f6"),r=a("d243"),i=a("0baf");const[u,d]=Object(c["a"])("cell-group"),s={title:String,inset:Boolean,border:n["g"]};var b=Object(o["defineComponent"])({name:u,inheritAttrs:!1,props:s,setup(e,{slots:t,attrs:a}){const l=()=>{var l;return Object(o["createVNode"])("div",Object(o["mergeProps"])({class:[d({inset:e.inset}),{[r["e"]]:e.border&&!e.inset}]},a,Object(i["a"])()),[null==(l=t.default)?void 0:l.call(t)])},c=()=>Object(o["createVNode"])("div",{class:d("title",{inset:e.inset})},[t.title?t.title():e.title]);return()=>e.title||t.title?Object(o["createVNode"])(o["Fragment"],null,[c(),l()]):l()}});const m=Object(l["a"])(b)},bcdb:function(e,t,a){"use strict";a("1c6c")},c9ab:function(e,t,a){"use strict";a("68ef"),a("9617")},d9d2:function(e,t,a){},e31f:function(e,t,a){"use strict";a.d(t,"a",(function(){return v}));var l=a("23f9"),o=a("7a23"),c=a("1fba"),n=a("e5f6"),r=a("5aa0"),i=a("450f"),u=a("5913");const[d,s]=Object(c["a"])("switch"),b={size:n["f"],loading:Boolean,disabled:Boolean,modelValue:n["h"],activeColor:String,inactiveColor:String,activeValue:{type:n["h"],default:!0},inactiveValue:{type:n["h"],default:!1}};var m=Object(o["defineComponent"])({name:d,props:b,emits:["change","update:modelValue"],setup(e,{emit:t,slots:a}){const l=()=>e.modelValue===e.activeValue,c=()=>{if(!e.disabled&&!e.loading){const a=l()?e.inactiveValue:e.activeValue;t("update:modelValue",a),t("change",a)}},n=()=>{if(e.loading){const t=l()?e.activeColor:e.inactiveColor;return Object(o["createVNode"])(u["a"],{class:s("loading"),color:t},null)}if(a.node)return a.node()};return Object(i["useCustomFieldValue"])(()=>e.modelValue),()=>{var t;const{size:i,loading:u,disabled:d,activeColor:b,inactiveColor:m}=e,v=l(),g={fontSize:Object(r["b"])(i),backgroundColor:v?b:m};return Object(o["createVNode"])("div",{role:"switch",class:s({on:v,loading:u,disabled:d}),style:g,tabindex:d?void 0:0,"aria-checked":v,onClick:c},[Object(o["createVNode"])("div",{class:s("node")},[n()]),null==(t=a.background)?void 0:t.call(a)])}}});const v=Object(l["a"])(m)},f23a:function(e,t,a){"use strict";a.d(t,"a",(function(){return M}));var l=a("23f9"),o=a("7a23"),c=a("1fba"),n=a("e5f6"),r=a("fa7c"),i=a("d243"),u=a("5aa0"),d=a("8db7");function s(e){return Array.isArray(e)?!e.length:0!==e&&!e}function b(e,t){if(s(e)){if(t.required)return!1;if(!1===t.validateEmpty)return!0}return!(t.pattern&&!t.pattern.test(String(e)))}function m(e,t){return new Promise(a=>{const l=t.validator(e,t);Object(r["i"])(l)?l.then(a):a(l)})}function v(e,t){const{message:a}=t;return Object(r["e"])(a)?a(e,t):a||""}function g({target:e}){e.composing=!0}function j({target:e}){e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}function O(e,t){const a=Object(d["b"])();e.style.height="auto";let l=e.scrollHeight;if(Object(r["h"])(t)){const{maxHeight:e,minHeight:a}=t;void 0!==e&&(l=Math.min(l,e)),void 0!==a&&(l=Math.max(l,a))}l&&(e.style.height=l+"px",Object(d["g"])(a))}function f(e){return"number"===e?{type:"text",inputmode:"decimal"}:"digit"===e?{type:"tel",inputmode:"numeric"}:{type:e}}function h(e){return[...e].length}function p(e,t){return[...e].slice(0,t).join("")}var V=a("3d6b"),x=a("450f"),C=a("05df"),w=a("efd9"),N=a("9a1c"),y=a("6c44");const[k,S]=Object(c["a"])("field"),T={id:String,name:String,leftIcon:String,rightIcon:String,autofocus:Boolean,clearable:Boolean,maxlength:n["f"],formatter:Function,clearIcon:Object(n["e"])("clear"),modelValue:Object(n["c"])(""),inputAlign:String,placeholder:String,autocomplete:String,autocapitalize:String,autocorrect:String,errorMessage:String,enterkeyhint:String,clearTrigger:Object(n["e"])("focus"),formatTrigger:Object(n["e"])("onChange"),spellcheck:{type:Boolean,default:null},error:{type:Boolean,default:null},disabled:{type:Boolean,default:null},readonly:{type:Boolean,default:null}},I=Object(r["a"])({},V["a"],T,{rows:n["f"],type:Object(n["e"])("text"),rules:Array,autosize:[Boolean,Object],labelWidth:n["f"],labelClass:n["h"],labelAlign:String,showWordLimit:Boolean,errorMessageAlign:String,colon:{type:Boolean,default:null}});var _=Object(o["defineComponent"])({name:k,props:I,emits:["blur","focus","clear","keypress","clickInput","endValidate","startValidate","clickLeftIcon","clickRightIcon","update:modelValue"],setup(e,{emit:t,slots:a}){const l=Object(C["a"])(),c=Object(o["reactive"])({status:"unvalidated",focused:!1,validateMessage:""}),n=Object(o["ref"])(),V=Object(o["ref"])(),k=Object(o["ref"])(),{parent:T}=Object(x["useParent"])(i["g"]),I=()=>{var t;return String(null!=(t=e.modelValue)?t:"")},_=t=>Object(r["d"])(e[t])?e[t]:T&&Object(r["d"])(T.props[t])?T.props[t]:void 0,M=Object(o["computed"])(()=>{const t=_("readonly");if(e.clearable&&!t){const t=""!==I(),a="always"===e.clearTrigger||"focus"===e.clearTrigger&&c.focused;return t&&a}return!1}),B=Object(o["computed"])(()=>k.value&&a.input?k.value():e.modelValue),D=Object(o["computed"])(()=>{var t;const a=_("required");return"auto"===a?null==(t=e.rules)?void 0:t.some(e=>e.required):a}),U=e=>e.reduce((e,t)=>e.then(()=>{if("failed"===c.status)return;let{value:e}=B;if(t.formatter&&(e=t.formatter(e,t)),!b(e,t))return c.status="failed",void(c.validateMessage=v(e,t));if(t.validator){if(s(e)&&!1===t.validateEmpty)return;return m(e,t).then(a=>{a&&"string"===typeof a?(c.status="failed",c.validateMessage=a):!1===a&&(c.status="failed",c.validateMessage=v(e,t))})}}),Promise.resolve()),A=()=>{c.status="unvalidated",c.validateMessage=""},E=()=>t("endValidate",{status:c.status,message:c.validateMessage}),z=(a=e.rules)=>new Promise(l=>{A(),a?(t("startValidate"),U(a).then(()=>{"failed"===c.status?(l({name:e.name,message:c.validateMessage}),E()):(c.status="passed",l(),E())})):l()}),H=t=>{if(T&&e.rules){const{validateTrigger:a}=T.props,l=Object(r["m"])(a).includes(t),o=e.rules.filter(e=>e.trigger?Object(r["m"])(e.trigger).includes(t):l);o.length&&z(o)}},P=t=>{var a;const{maxlength:l}=e;if(Object(r["d"])(l)&&h(t)>+l){const e=I();if(e&&h(e)===+l)return e;const o=null==(a=n.value)?void 0:a.selectionEnd;if(c.focused&&o){const e=[...t],a=e.length-+l;return e.splice(o-a,a),e.join("")}return p(t,+l)}return t},W=(a,l="onChange")=>{const o=a;a=P(a);const i=h(o)-h(a);if("number"===e.type||"digit"===e.type){const t="number"===e.type;a=Object(u["e"])(a,t,t)}let d=0;if(e.formatter&&l===e.formatTrigger){const{formatter:t,maxlength:l}=e;if(a=t(a),Object(r["d"])(l)&&h(a)>+l&&(a=p(a,+l)),n.value&&c.focused){const{selectionEnd:e}=n.value,a=p(o,e);d=h(t(a))-h(a)}}if(n.value&&n.value.value!==a)if(c.focused){let{selectionStart:e,selectionEnd:t}=n.value;if(n.value.value=a,Object(r["d"])(e)&&Object(r["d"])(t)){const l=h(a);i?(e-=i,t-=i):d&&(e+=d,t+=d),n.value.setSelectionRange(Math.min(e,l),Math.min(t,l))}}else n.value.value=a;a!==e.modelValue&&t("update:modelValue",a)},F=e=>{e.target.composing||W(e.target.value)},R=()=>{var e;return null==(e=n.value)?void 0:e.blur()},L=()=>{var e;return null==(e=n.value)?void 0:e.focus()},G=()=>{const t=n.value;"textarea"===e.type&&e.autosize&&t&&O(t,e.autosize)},q=e=>{c.focused=!0,t("focus",e),Object(o["nextTick"])(G),_("readonly")&&R()},J=e=>{c.focused=!1,W(I(),"onBlur"),t("blur",e),_("readonly")||(H("onBlur"),Object(o["nextTick"])(G),Object(d["f"])())},Y=e=>t("clickInput",e),X=e=>t("clickLeftIcon",e),K=e=>t("clickRightIcon",e),$=e=>{Object(d["e"])(e),t("update:modelValue",""),t("clear",e)},Q=Object(o["computed"])(()=>"boolean"===typeof e.error?e.error:!(!T||!T.props.showError||"failed"!==c.status)||void 0),Z=Object(o["computed"])(()=>{const e=_("labelWidth"),t=_("labelAlign");if(e&&"top"!==t)return{width:Object(u["b"])(e)}}),ee=a=>{const l=13;if(a.keyCode===l){const t=T&&T.props.submitOnEnter;t||"textarea"===e.type||Object(d["e"])(a),"search"===e.type&&R()}t("keypress",a)},te=()=>e.id||l+"-input",ae=()=>c.status,le=()=>{const t=S("control",[_("inputAlign"),{error:Q.value,custom:!!a.input,"min-height":"textarea"===e.type&&!e.autosize}]);if(a.input)return Object(o["createVNode"])("div",{class:t,onClick:Y},[a.input()]);const c={id:te(),ref:n,name:e.name,rows:void 0!==e.rows?+e.rows:void 0,class:t,disabled:_("disabled"),readonly:_("readonly"),autofocus:e.autofocus,placeholder:e.placeholder,autocomplete:e.autocomplete,autocapitalize:e.autocapitalize,autocorrect:e.autocorrect,enterkeyhint:e.enterkeyhint,spellcheck:e.spellcheck,"aria-labelledby":e.label?l+"-label":void 0,onBlur:J,onFocus:q,onInput:F,onClick:Y,onChange:j,onKeypress:ee,onCompositionend:j,onCompositionstart:g};return"textarea"===e.type?Object(o["createVNode"])("textarea",c,null):Object(o["createVNode"])("input",Object(o["mergeProps"])(f(e.type),c),null)},oe=()=>{const t=a["left-icon"];if(e.leftIcon||t)return Object(o["createVNode"])("div",{class:S("left-icon"),onClick:X},[t?t():Object(o["createVNode"])(N["a"],{name:e.leftIcon,classPrefix:e.iconPrefix},null)])},ce=()=>{const t=a["right-icon"];if(e.rightIcon||t)return Object(o["createVNode"])("div",{class:S("right-icon"),onClick:K},[t?t():Object(o["createVNode"])(N["a"],{name:e.rightIcon,classPrefix:e.iconPrefix},null)])},ne=()=>{if(e.showWordLimit&&e.maxlength){const t=h(I());return Object(o["createVNode"])("div",{class:S("word-limit")},[Object(o["createVNode"])("span",{class:S("word-num")},[t]),Object(o["createTextVNode"])("/"),e.maxlength])}},re=()=>{if(T&&!1===T.props.showErrorMessage)return;const t=e.errorMessage||c.validateMessage;if(t){const e=a["error-message"],l=_("errorMessageAlign");return Object(o["createVNode"])("div",{class:S("error-message",l)},[e?e({message:t}):t])}},ie=()=>{const t=_("labelWidth"),c=_("labelAlign"),n=_("colon")?":":"";return a.label?[a.label(),n]:e.label?Object(o["createVNode"])("label",{id:l+"-label",for:a.input?void 0:te(),onClick:e=>{Object(d["e"])(e),L()},style:"top"===c&&t?{width:Object(u["b"])(t)}:void 0},[e.label+n]):void 0},ue=()=>[Object(o["createVNode"])("div",{class:S("body")},[le(),M.value&&Object(o["createVNode"])(N["a"],{ref:V,name:e.clearIcon,class:S("clear")},null),ce(),a.button&&Object(o["createVNode"])("div",{class:S("button")},[a.button()])]),ne(),re()];return Object(w["a"])({blur:R,focus:L,validate:z,formValue:B,resetValidation:A,getValidationStatus:ae}),Object(o["provide"])(x["CUSTOM_FIELD_INJECTION_KEY"],{customValue:k,resetValidation:A,validateWithTrigger:H}),Object(o["watch"])(()=>e.modelValue,()=>{W(I()),A(),H("onChange"),Object(o["nextTick"])(G)}),Object(o["onMounted"])(()=>{W(I(),e.formatTrigger),Object(o["nextTick"])(G)}),Object(x["useEventListener"])("touchstart",$,{target:Object(o["computed"])(()=>{var e;return null==(e=V.value)?void 0:e.$el})}),()=>{const t=_("disabled"),l=_("labelAlign"),c=oe(),n=()=>{const e=ie();return"top"===l?[c,e].filter(Boolean):e||[]};return Object(o["createVNode"])(y["a"],{size:e.size,class:S({error:Q.value,disabled:t,["label-"+l]:l}),center:e.center,border:e.border,isLink:e.isLink,clickable:e.clickable,titleStyle:Z.value,valueClass:S("value"),titleClass:[S("label",[l,{required:D.value}]),e.labelClass],arrowDirection:e.arrowDirection},{icon:c&&"top"!==l?()=>c:null,title:n,value:ue,extra:a.extra})}}});const M=Object(l["a"])(_)}}]);