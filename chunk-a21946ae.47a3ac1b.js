(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-a21946ae"],{"047b":function(e,t,a){"use strict";a.r(t);var o=a("f23a"),n=(a("21a7"),a("b730")),c=(a("1fac"),a("5f24")),l=(a("ac6b"),a("dda5")),r=(a("fc63"),a("9a1c")),i=(a("89a0"),a("a136")),d=(a("4d86"),a("6c44")),u=(a("aa5a"),a("e31f")),s=(a("72ff"),a("7a23")),b=a("9690"),O=a("2849"),f=a("6c43"),v={__name:"HandRecoderSettingsView",setup(e){const t=Object(s["ref"])(!1),a=Object(s["ref"])(!1);function v(){try{window.androidFunction.setStringSetting("HandRecoderPathTF",B.value.HandRecoderPathTF,"/storage/sdcard/360Videos/AccOn")}catch(e){}}function p(){try{window.androidFunction.setStringSetting("HandRecoderPathSD",B.value.HandRecoderPathSD,"/sdcard/360Videos/AccOn")}catch(e){}}const j=[{text:"1分钟",value:1},{text:"3分钟",value:3},{text:"5分钟",value:5},{text:"10分钟",value:10}],m=Object(s["ref"])(!1),h=({selectedOptions:e})=>{m.value=!1,B.value.HandRecoderTime=e[0].value,T("HandRecoderTime",B.value.HandRecoderTime,1)},g=[{text:"2560x1440/2560x1920",value:1},{text:"1920x1080/1920x1440",value:4},{text:"1280x720/1280x960（海豚最大分辨率）",value:2},{text:"960x540/960x720",value:5},{text:"640x360/640x480",value:3}];const V=Object(s["ref"])(!1),C=({selectedOptions:e})=>{V.value=!1,B.value.HandRecoderResolution=e[0].value,M(B.value.HandRecoderResolution)};function k(e,t){if(e){let a=e.find(e=>e.value==t);if(a)return a.text}}const x=[{text:"25帧",value:25},{text:"20帧",value:20},{text:"15帧",value:15},{text:"10帧",value:10}],w=Object(s["ref"])(!1),y=({selectedOptions:e})=>{w.value=!1,B.value.HandRecoderFPS=e[0].value,T("HandRecoderFPS",B.value.HandRecoderFPS)},N=[{text:"10M",value:108e5},{text:"8M",value:864e4},{text:"6M",value:648e4},{text:"4M",value:432e4},{text:"2M",value:216e4},{text:"1M",value:108e4}],S=Object(s["ref"])(!1),R=({selectedOptions:e})=>{S.value=!1,B.value.HandRecoderBitrate=e[0].value,T("HandRecoderBitrate",B.value.HandRecoderBitrate)};function H(e,t){try{window.androidFunction.setBoolSetting(e,t,!1)}catch(a){}}function T(e,t,a){console.log("set "+e+" to "+t);try{window.androidFunction.setIntSetting(e,t,a)}catch(o){}}function M(e){try{window.androidFunction.setHandRecoderResolution(e)}catch(t){}}const B=Object(s["ref"])({handWithDVR:!1,HandRecoderResolution:1,HandRecoderTime:1,HandRecoderFPS:25,HandRecoderBitrate:864e4,HandRecoderPathSD:"/sdcard/360Videos/AccOn",HandRecoderPathTF:"/storage/sdcard/360Videos/AccOn",HandRecoderTryTF:!0,HandRecoderTimeWaterMark:!1,HandRecoderViewWaterMark:!1,HandRecoderCarInfoWaterMark:!1,HandRecoderTryAudio:!1,HandRecoderCarInfoWaterMarkString:"[]"});function P(){H("HandRecoderTryAudio",B.value.HandRecoderTryAudio),B.value.HandRecoderTryAudio&&Object(O["b"])({title:"温馨提示",confirmButtonColor:"var(--van-primary-color)",width:"320px",className:"myConfirmDialog",message:"打开语音录制可能会导致录制错误、进度条异常、小迪收音失败等问题，如果出现异常情况，请尝试关闭录制音频选项。"}).then(()=>{}).catch(()=>{})}const F=Object(s["ref"])([]);function I(){let e=F.value.filter(e=>e.select);console.log(e),B.value.HandRecoderCarInfoWaterMarkString=JSON.stringify(e);try{window.androidFunction.setStringSetting("HandRecoderCarInfoWaterMarkString",B.value.HandRecoderCarInfoWaterMarkString,"/storage/sdcard/360Videos/AccOn")}catch(t){}}function W(){let e=Object(b["c"])();try{let e=window.androidFunction.getHandRecoderSettings();B.value=JSON.parse(e),F.value=JSON.parse(B.value.HandRecoderCarInfoWaterMarkString)}catch(t){}F.value=F.value.concat(e.filter(e=>-1===F.value.findIndex(t=>t.name===e.name)))}return Object(s["onMounted"])(()=>{W()}),(e,b)=>{const O=u["a"],T=d["a"],M=i["a"],W=r["a"],_=l["a"],A=c["a"],D=n["a"],U=o["a"];return Object(s["openBlock"])(),Object(s["createElementBlock"])("main",null,[Object(s["createVNode"])(M,{inset:"",style:{"margin-top":"20px"}},{default:Object(s["withCtx"])(()=>[Object(s["createVNode"])(T,{center:"",title:"同步使用记录仪镜头录制",label:"开启后除了录制360镜头外，还会调用记录仪镜头进行录制"},{"right-icon":Object(s["withCtx"])(()=>[Object(s["createVNode"])(O,{modelValue:B.value.handWithDVR,"onUpdate:modelValue":b[0]||(b[0]=e=>B.value.handWithDVR=e),onChange:b[1]||(b[1]=e=>H("handWithDVR",B.value.handWithDVR))},null,8,["modelValue"])]),_:1})]),_:1}),Object(s["createVNode"])(M,{inset:"",style:{"margin-top":"20px"}},{default:Object(s["withCtx"])(()=>[Object(s["createVNode"])(T,{center:"","is-link":"",onClick:b[2]||(b[2]=e=>m.value=!0)},{title:Object(s["withCtx"])(()=>[Object(s["createTextVNode"])(" 分段录制时长 ")]),"right-icon":Object(s["withCtx"])(()=>[Object(s["createTextVNode"])(Object(s["toDisplayString"])(B.value.HandRecoderTime)+"分钟 ",1),Object(s["createVNode"])(W,{name:"arrow"})]),_:1}),Object(s["createVNode"])(A,{show:m.value,"onUpdate:show":b[4]||(b[4]=e=>m.value=e),round:"",position:"bottom"},{default:Object(s["withCtx"])(()=>[Object(s["createVNode"])(_,{columns:j,onCancel:b[3]||(b[3]=e=>m.value=!1),onConfirm:h})]),_:1},8,["show"]),Object(s["createVNode"])(T,{center:"",label:"分辨率越低，CPU、内存和存储开销越小，会降低视频画质","is-link":"",onClick:b[5]||(b[5]=e=>V.value=!0)},{title:Object(s["withCtx"])(()=>[Object(s["createTextVNode"])(" 录制分辨率 ")]),"right-icon":Object(s["withCtx"])(()=>[Object(s["createTextVNode"])(Object(s["toDisplayString"])(k(g,B.value.HandRecoderResolution))+" ",1),Object(s["createVNode"])(W,{name:"arrow"})]),_:1}),Object(s["createVNode"])(A,{show:V.value,"onUpdate:show":b[7]||(b[7]=e=>V.value=e),round:"",position:"bottom"},{default:Object(s["withCtx"])(()=>[Object(s["createVNode"])(_,{columns:g,onCancel:b[6]||(b[6]=e=>V.value=!1),onConfirm:C})]),_:1},8,["show"]),Object(s["createVNode"])(T,{center:"",label:"帧率越低，CPU、内存和存储开销越小，会降低视频流畅度","is-link":"",onClick:b[8]||(b[8]=e=>w.value=!0)},{title:Object(s["withCtx"])(()=>[Object(s["createTextVNode"])(" 录制帧率 ")]),"right-icon":Object(s["withCtx"])(()=>[Object(s["createTextVNode"])(Object(s["toDisplayString"])(B.value.HandRecoderFPS)+"帧 ",1),Object(s["createVNode"])(W,{name:"arrow"})]),_:1}),Object(s["createVNode"])(A,{show:w.value,"onUpdate:show":b[10]||(b[10]=e=>w.value=e),round:"",position:"bottom"},{default:Object(s["withCtx"])(()=>[Object(s["createVNode"])(_,{columns:x,onCancel:b[9]||(b[9]=e=>w.value=!1),onConfirm:y})]),_:1},8,["show"]),Object(s["createVNode"])(T,{center:"",label:"码率越低，CPU、内存和存储开销越小，会降低视频画质","is-link":"",onClick:b[11]||(b[11]=e=>S.value=!0)},{title:Object(s["withCtx"])(()=>[Object(s["createTextVNode"])(" 录制码率 ")]),"right-icon":Object(s["withCtx"])(()=>[Object(s["createTextVNode"])(Object(s["toDisplayString"])(k(N,B.value.HandRecoderBitrate))+" ",1),Object(s["createVNode"])(W,{name:"arrow"})]),_:1}),Object(s["createVNode"])(A,{show:S.value,"onUpdate:show":b[13]||(b[13]=e=>S.value=e),round:"",position:"bottom"},{default:Object(s["withCtx"])(()=>[Object(s["createVNode"])(_,{columns:N,onCancel:b[12]||(b[12]=e=>S.value=!1),onConfirm:R})]),_:1},8,["show"]),Object(s["createVNode"])(T,{center:"",label:"麦克风可用时，录制音频","is-link":""},{title:Object(s["withCtx"])(()=>[Object(s["createTextVNode"])(" 录制音频 ")]),"right-icon":Object(s["withCtx"])(()=>[Object(s["createVNode"])(O,{modelValue:B.value.HandRecoderTryAudio,"onUpdate:modelValue":b[14]||(b[14]=e=>B.value.HandRecoderTryAudio=e),onClick:P},null,8,["modelValue"])]),_:1})]),_:1}),Object(s["createVNode"])(M,{inset:"",style:{"margin-top":"20px"}},{default:Object(s["withCtx"])(()=>[Object(s["createVNode"])(T,{center:"",label:"视频左上角显示录制时间","is-link":""},{title:Object(s["withCtx"])(()=>[Object(s["createTextVNode"])(" 时间水印 ")]),"right-icon":Object(s["withCtx"])(()=>[Object(s["createVNode"])(O,{modelValue:B.value.HandRecoderTimeWaterMark,"onUpdate:modelValue":b[15]||(b[15]=e=>B.value.HandRecoderTimeWaterMark=e),onClick:b[16]||(b[16]=e=>H("HandRecoderTimeWaterMark",B.value.HandRecoderTimeWaterMark))},null,8,["modelValue"])]),_:1}),Object(s["createVNode"])(T,{center:"",label:"视频显示摄像头前后左右图标，方便区分摄像头位置","is-link":""},{title:Object(s["withCtx"])(()=>[Object(s["createTextVNode"])(" 镜头位置水印 ")]),"right-icon":Object(s["withCtx"])(()=>[Object(s["createVNode"])(O,{modelValue:B.value.HandRecoderViewWaterMark,"onUpdate:modelValue":b[17]||(b[17]=e=>B.value.HandRecoderViewWaterMark=e),onClick:b[18]||(b[18]=e=>H("HandRecoderViewWaterMark",B.value.HandRecoderViewWaterMark))},null,8,["modelValue"])]),_:1}),Object(s["createVNode"])(T,{center:"",label:"视频显示车辆信息水印，如速度、油门、刹车、电量等","is-link":""},{title:Object(s["withCtx"])(()=>[Object(s["createTextVNode"])(" 车辆信息水印 ")]),"right-icon":Object(s["withCtx"])(()=>[Object(s["createVNode"])(O,{modelValue:B.value.HandRecoderCarInfoWaterMark,"onUpdate:modelValue":b[19]||(b[19]=e=>B.value.HandRecoderCarInfoWaterMark=e),onClick:b[20]||(b[20]=e=>H("HandRecoderCarInfoWaterMark",B.value.HandRecoderCarInfoWaterMark))},null,8,["modelValue"])]),_:1}),B.value.HandRecoderCarInfoWaterMark?(Object(s["openBlock"])(!0),Object(s["createElementBlock"])(s["Fragment"],{key:0},Object(s["renderList"])(F.value,e=>(Object(s["openBlock"])(),Object(s["createBlock"])(T,{key:"Hand"+e.name,title:e.name},{"right-icon":Object(s["withCtx"])(()=>[Object(s["createVNode"])(D,{name:e.name,modelValue:e.select,"onUpdate:modelValue":t=>e.select=t,onChange:I},null,8,["name","modelValue","onUpdate:modelValue"])]),_:2},1032,["title"]))),128)):Object(s["createCommentVNode"])("",!0)]),_:1}),Object(s["createVNode"])(M,{inset:"",style:{"margin-top":"20px"}},{default:Object(s["withCtx"])(()=>[Object(s["createVNode"])(A,{show:a.value,"onUpdate:show":b[22]||(b[22]=e=>a.value=e),round:""},{default:Object(s["withCtx"])(()=>[Object(s["createVNode"])(U,{name:"slider",modelValue:B.value.HandRecoderPathSD,"onUpdate:modelValue":b[21]||(b[21]=e=>B.value.HandRecoderPathSD=e),label:"存储路径",style:{margin:"20px 0",padding:"20px","padding-right":"30px"},onChange:p},null,8,["modelValue"])]),_:1},8,["show"]),Object(s["createVNode"])(T,{center:"",label:"如果有外部存储，则优先存储到外部存储，如熄火后系统卸载外部存储则无法保存到外部存储。","is-link":""},{title:Object(s["withCtx"])(()=>[Object(s["createTextVNode"])(" 优先存储到外部存储 ")]),"right-icon":Object(s["withCtx"])(()=>[Object(s["createVNode"])(O,{modelValue:B.value.HandRecoderTryTF,"onUpdate:modelValue":b[23]||(b[23]=e=>B.value.HandRecoderTryTF=e),onClick:b[24]||(b[24]=e=>H("HandRecoderTryTF",B.value.HandRecoderTryTF))},null,8,["modelValue"])]),_:1}),Object(s["createVNode"])(T,{center:"",label:"路径："+B.value.HandRecoderPathSD,onClick:b[25]||(b[25]=e=>Object(s["unref"])(f["b"])("如需修改，请在存储管理中修改路径")),"is-link":""},{title:Object(s["withCtx"])(()=>[Object(s["createTextVNode"])(" 内部存储路径 ")]),"right-icon":Object(s["withCtx"])(()=>[Object(s["createVNode"])(W,{name:"arrow"})]),_:1},8,["label"]),Object(s["createVNode"])(T,{center:"",label:"路径："+B.value.HandRecoderPathTF,onClick:b[26]||(b[26]=e=>Object(s["unref"])(f["b"])("如需修改，请在存储管理中修改路径")),"is-link":""},{title:Object(s["withCtx"])(()=>[Object(s["createTextVNode"])(" 外部存储路径 ")]),"right-icon":Object(s["withCtx"])(()=>[Object(s["createVNode"])(W,{name:"arrow"})]),_:1},8,["label"]),Object(s["createVNode"])(A,{show:t.value,"onUpdate:show":b[28]||(b[28]=e=>t.value=e),round:""},{default:Object(s["withCtx"])(()=>[Object(s["createVNode"])(U,{name:"slider",modelValue:B.value.HandRecoderPathTF,"onUpdate:modelValue":b[27]||(b[27]=e=>B.value.HandRecoderPathTF=e),label:"存储路径",style:{margin:"20px 0",padding:"20px","padding-right":"30px"},onChange:v},null,8,["modelValue"])]),_:1},8,["show"])]),_:1})])}}};a("bd3b");const p=v;t["default"]=p},"0a6e":function(e,t,a){},1146:function(e,t,a){},"1fac":function(e,t,a){"use strict";a("68ef"),a("cb51"),a("3743"),a("0a6e"),a("2381")},"21a7":function(e,t,a){"use strict";a("68ef"),a("cb51"),a("3743"),a("1a04"),a("1146")},2381:function(e,t,a){},"4d86":function(e,t,a){"use strict";a("68ef"),a("5c56")},"5c56":function(e,t,a){},"6c43":function(e,t,a){"use strict";a.d(t,"a",(function(){return S})),a.d(t,"b",(function(){return y}));var o=a("7a23"),n=a("fa7c"),c=a("6872"),l=a("1fba"),r=a("e5f6");let i=0;function d(e){e?(i||document.body.classList.add("van-toast--unclickable"),i++):i&&(i--,i||document.body.classList.remove("van-toast--unclickable"))}var u=a("9a1c"),s=a("5f24"),b=a("5913");const[O,f]=Object(l["a"])("toast"),v=["show","overlay","teleport","transition","overlayClass","overlayStyle","closeOnClickOverlay"],p={icon:String,show:Boolean,type:Object(r["e"])("text"),overlay:Boolean,message:r["f"],iconSize:r["f"],duration:Object(r["b"])(2e3),position:Object(r["e"])("middle"),teleport:[String,Object],wordBreak:String,className:r["h"],iconPrefix:String,transition:Object(r["e"])("van-fade"),loadingType:String,forbidClick:Boolean,overlayClass:r["h"],overlayStyle:Object,closeOnClick:Boolean,closeOnClickOverlay:Boolean};var j=Object(o["defineComponent"])({name:O,props:p,emits:["update:show"],setup(e,{emit:t,slots:a}){let c,l=!1;const r=()=>{const t=e.show&&e.forbidClick;l!==t&&(l=t,d(l))},i=e=>t("update:show",e),O=()=>{e.closeOnClick&&i(!1)},p=()=>clearTimeout(c),j=()=>{const{icon:t,type:a,iconSize:n,iconPrefix:c,loadingType:l}=e,r=t||"success"===a||"fail"===a;return r?Object(o["createVNode"])(u["a"],{name:t||a,size:n,class:f("icon"),classPrefix:c},null):"loading"===a?Object(o["createVNode"])(b["a"],{class:f("loading"),size:n,type:l},null):void 0},m=()=>{const{type:t,message:c}=e;return a.message?Object(o["createVNode"])("div",{class:f("text")},[a.message()]):Object(n["d"])(c)&&""!==c?"html"===t?Object(o["createVNode"])("div",{key:0,class:f("text"),innerHTML:String(c)},null):Object(o["createVNode"])("div",{class:f("text")},[c]):void 0};return Object(o["watch"])(()=>[e.show,e.forbidClick],r),Object(o["watch"])(()=>[e.show,e.type,e.message,e.duration],()=>{p(),e.show&&e.duration>0&&(c=setTimeout(()=>{i(!1)},e.duration))}),Object(o["onMounted"])(r),Object(o["onUnmounted"])(r),()=>Object(o["createVNode"])(s["a"],Object(o["mergeProps"])({class:[f([e.position,"normal"===e.wordBreak?"break-normal":e.wordBreak,{[e.type]:!e.icon}]),e.className],lockScroll:!1,onClick:O,onClosed:p,"onUpdate:show":i},Object(n["l"])(e,v)),{default:()=>[j(),m()]})}});const m={icon:"",type:"text",message:"",className:"",overlay:!1,onClose:void 0,onOpened:void 0,duration:2e3,teleport:"body",iconSize:void 0,iconPrefix:void 0,position:"middle",transition:"van-fade",forbidClick:!1,loadingType:void 0,overlayClass:"",overlayStyle:void 0,closeOnClick:!1,closeOnClickOverlay:!1};let h=[],g=!1,V=Object(n["a"])({},m);const C=new Map;function k(e){return Object(n["h"])(e)?e:{message:e}}function x(){const{instance:e,unmount:t}=Object(c["a"])({setup(){const a=Object(o["ref"])(""),{open:n,state:l,close:r,toggle:i}=Object(c["b"])(),d=()=>{g&&(h=h.filter(t=>t!==e),t())},u=()=>{const e={onClosed:d,"onUpdate:show":i};return Object(o["createVNode"])(j,Object(o["mergeProps"])(l,e),null)};return Object(o["watch"])(a,e=>{l.message=e}),Object(o["getCurrentInstance"])().render=u,{open:n,close:r,message:a}}});return e}function w(){if(!h.length||g){const e=x();h.push(e)}return h[h.length-1]}function y(e={}){if(!n["c"])return{};const t=w(),a=k(e);return t.open(Object(n["a"])({},V,C.get(a.type||V.type),a)),t}const N=e=>t=>y(Object(n["a"])({type:e},k(t))),S=(N("loading"),N("success"),N("fail"))},"72ff":function(e,t,a){"use strict";a("68ef"),a("e3b3"),a("d9d2")},"7a4d":function(e,t,a){"use strict";a.d(t,"a",(function(){return s})),a.d(t,"b",(function(){return b}));var o=a("7a23"),n=a("1fba"),c=a("e5f6"),l=a("450f"),r=a("efd9");const[i,d]=Object(n["a"])("checkbox-group"),u={max:c["f"],shape:Object(c["e"])("round"),disabled:Boolean,iconSize:c["f"],direction:String,modelValue:Object(c["a"])(),checkedColor:String},s=Symbol(i);var b=Object(o["defineComponent"])({name:i,props:u,emits:["change","update:modelValue"],setup(e,{emit:t,slots:a}){const{children:n,linkChildren:c}=Object(l["useChildren"])(s),i=e=>t("update:modelValue",e),u=(e={})=>{"boolean"===typeof e&&(e={checked:e});const{checked:t,skipDisabled:a}=e,o=n.filter(e=>!!e.props.bindGroup&&(e.props.disabled&&a?e.checked.value:null!=t?t:!e.checked.value)),c=o.map(e=>e.name);i(c)};return Object(o["watch"])(()=>e.modelValue,e=>t("change",e)),Object(r["a"])({toggleAll:u}),Object(l["useCustomFieldValue"])(()=>e.modelValue),c({props:e,updateValue:i}),()=>{var t;return Object(o["createVNode"])("div",{class:d([e.direction])},[null==(t=a.default)?void 0:t.call(a)])}}})},"85e3":function(e,t,a){},a136:function(e,t,a){"use strict";a.d(t,"a",(function(){return O}));var o=a("23f9"),n=a("7a23"),c=a("1fba"),l=a("e5f6"),r=a("d243"),i=a("0baf");const[d,u]=Object(c["a"])("cell-group"),s={title:String,inset:Boolean,border:l["g"]};var b=Object(n["defineComponent"])({name:d,inheritAttrs:!1,props:s,setup(e,{slots:t,attrs:a}){const o=()=>{var o;return Object(n["createVNode"])("div",Object(n["mergeProps"])({class:[u({inset:e.inset}),{[r["e"]]:e.border&&!e.inset}]},a,Object(i["a"])()),[null==(o=t.default)?void 0:o.call(t)])},c=()=>Object(n["createVNode"])("div",{class:u("title",{inset:e.inset})},[t.title?t.title():e.title]);return()=>e.title||t.title?Object(n["createVNode"])(n["Fragment"],null,[c(),o()]):o()}});const O=Object(o["a"])(b)},b730:function(e,t,a){"use strict";a.d(t,"a",(function(){return h}));var o=a("23f9"),n=a("7a23"),c=a("1fba"),l=a("fa7c"),r=a("e5f6"),i=a("7a4d"),d=a("450f"),u=a("efd9"),s=a("5aa0"),b=a("9a1c");const O={name:r["h"],disabled:Boolean,iconSize:r["f"],modelValue:r["h"],checkedColor:String,labelPosition:String,labelDisabled:Boolean};var f=Object(n["defineComponent"])({props:Object(l["a"])({},O,{bem:Object(r["d"])(Function),role:String,shape:String,parent:Object,checked:Boolean,bindGroup:r["g"],indeterminate:{type:Boolean,default:null}}),emits:["click","toggle"],setup(e,{emit:t,slots:a}){const o=Object(n["ref"])(),c=t=>{if(e.parent&&e.bindGroup)return e.parent.props[t]},l=Object(n["computed"])(()=>{if(e.parent&&e.bindGroup){const t=c("disabled")||e.disabled;if("checkbox"===e.role){const a=c("modelValue").length,o=c("max"),n=o&&a>=+o;return t||n&&!e.checked}return t}return e.disabled}),r=Object(n["computed"])(()=>c("direction")),i=Object(n["computed"])(()=>{const t=e.checkedColor||c("checkedColor");if(t&&e.checked&&!l.value)return{borderColor:t,backgroundColor:t}}),d=Object(n["computed"])(()=>e.shape||c("shape")||"round"),u=a=>{const{target:n}=a,c=o.value,r=c===n||(null==c?void 0:c.contains(n));l.value||!r&&e.labelDisabled||t("toggle"),t("click",a)},O=()=>{var t,r;const{bem:u,checked:O,indeterminate:f}=e,v=e.iconSize||c("iconSize");return Object(n["createVNode"])("div",{ref:o,class:u("icon",[d.value,{disabled:l.value,checked:O,indeterminate:f}]),style:"dot"!==d.value?{fontSize:Object(s["b"])(v)}:{width:Object(s["b"])(v),height:Object(s["b"])(v),borderColor:null==(t=i.value)?void 0:t.borderColor}},[a.icon?a.icon({checked:O,disabled:l.value}):"dot"!==d.value?Object(n["createVNode"])(b["a"],{name:f?"minus":"success",style:i.value},null):Object(n["createVNode"])("div",{class:u("icon--dot__icon"),style:{backgroundColor:null==(r=i.value)?void 0:r.backgroundColor}},null)])},f=()=>{const{checked:t}=e;if(a.default)return Object(n["createVNode"])("span",{class:e.bem("label",[e.labelPosition,{disabled:l.value}])},[a.default({checked:t,disabled:l.value})])};return()=>{const t="left"===e.labelPosition?[f(),O()]:[O(),f()];return Object(n["createVNode"])("div",{role:e.role,class:e.bem([{disabled:l.value,"label-disabled":e.labelDisabled},r.value]),tabindex:l.value?void 0:0,"aria-checked":e.checked,onClick:u},[t])}}});const[v,p]=Object(c["a"])("checkbox"),j=Object(l["a"])({},O,{shape:String,bindGroup:r["g"],indeterminate:{type:Boolean,default:null}});var m=Object(n["defineComponent"])({name:v,props:j,emits:["change","update:modelValue"],setup(e,{emit:t,slots:a}){const{parent:o}=Object(d["useParent"])(i["a"]),c=t=>{const{name:a}=e,{max:n,modelValue:c}=o.props,l=c.slice();if(t){const t=n&&l.length>=+n;t||l.includes(a)||(l.push(a),e.bindGroup&&o.updateValue(l))}else{const t=l.indexOf(a);-1!==t&&(l.splice(t,1),e.bindGroup&&o.updateValue(l))}},r=Object(n["computed"])(()=>o&&e.bindGroup?-1!==o.props.modelValue.indexOf(e.name):!!e.modelValue),s=(a=!r.value)=>{o&&e.bindGroup?c(a):t("update:modelValue",a),null!==e.indeterminate&&t("change",a)};return Object(n["watch"])(()=>e.modelValue,a=>{null===e.indeterminate&&t("change",a)}),Object(u["a"])({toggle:s,props:e,checked:r}),Object(d["useCustomFieldValue"])(()=>e.modelValue),()=>Object(n["createVNode"])(f,Object(n["mergeProps"])({bem:p,role:"checkbox",parent:o,checked:r.value,onToggle:s},e),Object(l["l"])(a,["default","icon"]))}});const h=Object(o["a"])(m)},bd3b:function(e,t,a){"use strict";a("85e3")},d9d2:function(e,t,a){},e31f:function(e,t,a){"use strict";a.d(t,"a",(function(){return f}));var o=a("23f9"),n=a("7a23"),c=a("1fba"),l=a("e5f6"),r=a("5aa0"),i=a("450f"),d=a("5913");const[u,s]=Object(c["a"])("switch"),b={size:l["f"],loading:Boolean,disabled:Boolean,modelValue:l["h"],activeColor:String,inactiveColor:String,activeValue:{type:l["h"],default:!0},inactiveValue:{type:l["h"],default:!1}};var O=Object(n["defineComponent"])({name:u,props:b,emits:["change","update:modelValue"],setup(e,{emit:t,slots:a}){const o=()=>e.modelValue===e.activeValue,c=()=>{if(!e.disabled&&!e.loading){const a=o()?e.inactiveValue:e.activeValue;t("update:modelValue",a),t("change",a)}},l=()=>{if(e.loading){const t=o()?e.activeColor:e.inactiveColor;return Object(n["createVNode"])(d["a"],{class:s("loading"),color:t},null)}if(a.node)return a.node()};return Object(i["useCustomFieldValue"])(()=>e.modelValue),()=>{var t;const{size:i,loading:d,disabled:u,activeColor:b,inactiveColor:O}=e,f=o(),v={fontSize:Object(r["b"])(i),backgroundColor:f?b:O};return Object(n["createVNode"])("div",{role:"switch",class:s({on:f,loading:d,disabled:u}),style:v,tabindex:u?void 0:0,"aria-checked":f,onClick:c},[Object(n["createVNode"])("div",{class:s("node")},[l()]),null==(t=a.background)?void 0:t.call(a)])}}});const f=Object(o["a"])(O)},f23a:function(e,t,a){"use strict";a.d(t,"a",(function(){return M}));var o=a("23f9"),n=a("7a23"),c=a("1fba"),l=a("e5f6"),r=a("fa7c"),i=a("d243"),d=a("5aa0"),u=a("8db7");function s(e){return Array.isArray(e)?!e.length:0!==e&&!e}function b(e,t){if(s(e)){if(t.required)return!1;if(!1===t.validateEmpty)return!0}return!(t.pattern&&!t.pattern.test(String(e)))}function O(e,t){return new Promise(a=>{const o=t.validator(e,t);Object(r["i"])(o)?o.then(a):a(o)})}function f(e,t){const{message:a}=t;return Object(r["e"])(a)?a(e,t):a||""}function v({target:e}){e.composing=!0}function p({target:e}){e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}function j(e,t){const a=Object(u["b"])();e.style.height="auto";let o=e.scrollHeight;if(Object(r["h"])(t)){const{maxHeight:e,minHeight:a}=t;void 0!==e&&(o=Math.min(o,e)),void 0!==a&&(o=Math.max(o,a))}o&&(e.style.height=o+"px",Object(u["g"])(a))}function m(e){return"number"===e?{type:"text",inputmode:"decimal"}:"digit"===e?{type:"tel",inputmode:"numeric"}:{type:e}}function h(e){return[...e].length}function g(e,t){return[...e].slice(0,t).join("")}var V=a("3d6b"),C=a("450f"),k=a("05df"),x=a("efd9"),w=a("9a1c"),y=a("6c44");const[N,S]=Object(c["a"])("field"),R={id:String,name:String,leftIcon:String,rightIcon:String,autofocus:Boolean,clearable:Boolean,maxlength:l["f"],formatter:Function,clearIcon:Object(l["e"])("clear"),modelValue:Object(l["c"])(""),inputAlign:String,placeholder:String,autocomplete:String,autocapitalize:String,autocorrect:String,errorMessage:String,enterkeyhint:String,clearTrigger:Object(l["e"])("focus"),formatTrigger:Object(l["e"])("onChange"),spellcheck:{type:Boolean,default:null},error:{type:Boolean,default:null},disabled:{type:Boolean,default:null},readonly:{type:Boolean,default:null}},H=Object(r["a"])({},V["a"],R,{rows:l["f"],type:Object(l["e"])("text"),rules:Array,autosize:[Boolean,Object],labelWidth:l["f"],labelClass:l["h"],labelAlign:String,showWordLimit:Boolean,errorMessageAlign:String,colon:{type:Boolean,default:null}});var T=Object(n["defineComponent"])({name:N,props:H,emits:["blur","focus","clear","keypress","clickInput","endValidate","startValidate","clickLeftIcon","clickRightIcon","update:modelValue"],setup(e,{emit:t,slots:a}){const o=Object(k["a"])(),c=Object(n["reactive"])({status:"unvalidated",focused:!1,validateMessage:""}),l=Object(n["ref"])(),V=Object(n["ref"])(),N=Object(n["ref"])(),{parent:R}=Object(C["useParent"])(i["g"]),H=()=>{var t;return String(null!=(t=e.modelValue)?t:"")},T=t=>Object(r["d"])(e[t])?e[t]:R&&Object(r["d"])(R.props[t])?R.props[t]:void 0,M=Object(n["computed"])(()=>{const t=T("readonly");if(e.clearable&&!t){const t=""!==H(),a="always"===e.clearTrigger||"focus"===e.clearTrigger&&c.focused;return t&&a}return!1}),B=Object(n["computed"])(()=>N.value&&a.input?N.value():e.modelValue),P=Object(n["computed"])(()=>{var t;const a=T("required");return"auto"===a?null==(t=e.rules)?void 0:t.some(e=>e.required):a}),F=e=>e.reduce((e,t)=>e.then(()=>{if("failed"===c.status)return;let{value:e}=B;if(t.formatter&&(e=t.formatter(e,t)),!b(e,t))return c.status="failed",void(c.validateMessage=f(e,t));if(t.validator){if(s(e)&&!1===t.validateEmpty)return;return O(e,t).then(a=>{a&&"string"===typeof a?(c.status="failed",c.validateMessage=a):!1===a&&(c.status="failed",c.validateMessage=f(e,t))})}}),Promise.resolve()),I=()=>{c.status="unvalidated",c.validateMessage=""},W=()=>t("endValidate",{status:c.status,message:c.validateMessage}),_=(a=e.rules)=>new Promise(o=>{I(),a?(t("startValidate"),F(a).then(()=>{"failed"===c.status?(o({name:e.name,message:c.validateMessage}),W()):(c.status="passed",o(),W())})):o()}),A=t=>{if(R&&e.rules){const{validateTrigger:a}=R.props,o=Object(r["m"])(a).includes(t),n=e.rules.filter(e=>e.trigger?Object(r["m"])(e.trigger).includes(t):o);n.length&&_(n)}},D=t=>{var a;const{maxlength:o}=e;if(Object(r["d"])(o)&&h(t)>+o){const e=H();if(e&&h(e)===+o)return e;const n=null==(a=l.value)?void 0:a.selectionEnd;if(c.focused&&n){const e=[...t],a=e.length-+o;return e.splice(n-a,a),e.join("")}return g(t,+o)}return t},U=(a,o="onChange")=>{const n=a;a=D(a);const i=h(n)-h(a);if("number"===e.type||"digit"===e.type){const t="number"===e.type;a=Object(d["e"])(a,t,t)}let u=0;if(e.formatter&&o===e.formatTrigger){const{formatter:t,maxlength:o}=e;if(a=t(a),Object(r["d"])(o)&&h(a)>+o&&(a=g(a,+o)),l.value&&c.focused){const{selectionEnd:e}=l.value,a=g(n,e);u=h(t(a))-h(a)}}if(l.value&&l.value.value!==a)if(c.focused){let{selectionStart:e,selectionEnd:t}=l.value;if(l.value.value=a,Object(r["d"])(e)&&Object(r["d"])(t)){const o=h(a);i?(e-=i,t-=i):u&&(e+=u,t+=u),l.value.setSelectionRange(Math.min(e,o),Math.min(t,o))}}else l.value.value=a;a!==e.modelValue&&t("update:modelValue",a)},z=e=>{e.target.composing||U(e.target.value)},E=()=>{var e;return null==(e=l.value)?void 0:e.blur()},L=()=>{var e;return null==(e=l.value)?void 0:e.focus()},G=()=>{const t=l.value;"textarea"===e.type&&e.autosize&&t&&j(t,e.autosize)},J=e=>{c.focused=!0,t("focus",e),Object(n["nextTick"])(G),T("readonly")&&E()},q=e=>{c.focused=!1,U(H(),"onBlur"),t("blur",e),T("readonly")||(A("onBlur"),Object(n["nextTick"])(G),Object(u["f"])())},K=e=>t("clickInput",e),Y=e=>t("clickLeftIcon",e),$=e=>t("clickRightIcon",e),Q=e=>{Object(u["e"])(e),t("update:modelValue",""),t("clear",e)},X=Object(n["computed"])(()=>"boolean"===typeof e.error?e.error:!(!R||!R.props.showError||"failed"!==c.status)||void 0),Z=Object(n["computed"])(()=>{const e=T("labelWidth"),t=T("labelAlign");if(e&&"top"!==t)return{width:Object(d["b"])(e)}}),ee=a=>{const o=13;if(a.keyCode===o){const t=R&&R.props.submitOnEnter;t||"textarea"===e.type||Object(u["e"])(a),"search"===e.type&&E()}t("keypress",a)},te=()=>e.id||o+"-input",ae=()=>c.status,oe=()=>{const t=S("control",[T("inputAlign"),{error:X.value,custom:!!a.input,"min-height":"textarea"===e.type&&!e.autosize}]);if(a.input)return Object(n["createVNode"])("div",{class:t,onClick:K},[a.input()]);const c={id:te(),ref:l,name:e.name,rows:void 0!==e.rows?+e.rows:void 0,class:t,disabled:T("disabled"),readonly:T("readonly"),autofocus:e.autofocus,placeholder:e.placeholder,autocomplete:e.autocomplete,autocapitalize:e.autocapitalize,autocorrect:e.autocorrect,enterkeyhint:e.enterkeyhint,spellcheck:e.spellcheck,"aria-labelledby":e.label?o+"-label":void 0,onBlur:q,onFocus:J,onInput:z,onClick:K,onChange:p,onKeypress:ee,onCompositionend:p,onCompositionstart:v};return"textarea"===e.type?Object(n["createVNode"])("textarea",c,null):Object(n["createVNode"])("input",Object(n["mergeProps"])(m(e.type),c),null)},ne=()=>{const t=a["left-icon"];if(e.leftIcon||t)return Object(n["createVNode"])("div",{class:S("left-icon"),onClick:Y},[t?t():Object(n["createVNode"])(w["a"],{name:e.leftIcon,classPrefix:e.iconPrefix},null)])},ce=()=>{const t=a["right-icon"];if(e.rightIcon||t)return Object(n["createVNode"])("div",{class:S("right-icon"),onClick:$},[t?t():Object(n["createVNode"])(w["a"],{name:e.rightIcon,classPrefix:e.iconPrefix},null)])},le=()=>{if(e.showWordLimit&&e.maxlength){const t=h(H());return Object(n["createVNode"])("div",{class:S("word-limit")},[Object(n["createVNode"])("span",{class:S("word-num")},[t]),Object(n["createTextVNode"])("/"),e.maxlength])}},re=()=>{if(R&&!1===R.props.showErrorMessage)return;const t=e.errorMessage||c.validateMessage;if(t){const e=a["error-message"],o=T("errorMessageAlign");return Object(n["createVNode"])("div",{class:S("error-message",o)},[e?e({message:t}):t])}},ie=()=>{const t=T("labelWidth"),c=T("labelAlign"),l=T("colon")?":":"";return a.label?[a.label(),l]:e.label?Object(n["createVNode"])("label",{id:o+"-label",for:a.input?void 0:te(),onClick:e=>{Object(u["e"])(e),L()},style:"top"===c&&t?{width:Object(d["b"])(t)}:void 0},[e.label+l]):void 0},de=()=>[Object(n["createVNode"])("div",{class:S("body")},[oe(),M.value&&Object(n["createVNode"])(w["a"],{ref:V,name:e.clearIcon,class:S("clear")},null),ce(),a.button&&Object(n["createVNode"])("div",{class:S("button")},[a.button()])]),le(),re()];return Object(x["a"])({blur:E,focus:L,validate:_,formValue:B,resetValidation:I,getValidationStatus:ae}),Object(n["provide"])(C["CUSTOM_FIELD_INJECTION_KEY"],{customValue:N,resetValidation:I,validateWithTrigger:A}),Object(n["watch"])(()=>e.modelValue,()=>{U(H()),I(),A("onChange"),Object(n["nextTick"])(G)}),Object(n["onMounted"])(()=>{U(H(),e.formatTrigger),Object(n["nextTick"])(G)}),Object(C["useEventListener"])("touchstart",Q,{target:Object(n["computed"])(()=>{var e;return null==(e=V.value)?void 0:e.$el})}),()=>{const t=T("disabled"),o=T("labelAlign"),c=ne(),l=()=>{const e=ie();return"top"===o?[c,e].filter(Boolean):e||[]};return Object(n["createVNode"])(y["a"],{size:e.size,class:S({error:X.value,disabled:t,["label-"+o]:o}),center:e.center,border:e.border,isLink:e.isLink,clickable:e.clickable,titleStyle:Z.value,valueClass:S("value"),titleClass:[S("label",[o,{required:P.value}]),e.labelClass],arrowDirection:e.arrowDirection},{icon:c&&"top"!==o?()=>c:null,title:l,value:de,extra:a.extra})}}});const M=Object(o["a"])(T)}}]);