(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-c61f00f2"],{"0a6e":function(e,t,a){},1146:function(e,t,a){},"17ca":function(e,t,a){"use strict";a.r(t);var o=a("f23a"),l=(a("21a7"),a("b730")),c=(a("1fac"),a("5f24")),r=(a("ac6b"),a("dda5")),n=(a("fc63"),a("9a1c")),i=(a("89a0"),a("a136")),d=(a("4d86"),a("6c44")),u=(a("aa5a"),a("e31f")),s=(a("72ff"),a("7a23")),b=a("9690"),m=a("2849"),O=a("6c43"),f={__name:"NormalRecoderSettingsView",setup(e){const t=Object(s["ref"])(!1),a=Object(s["ref"])(!1);function f(){try{window.androidFunction.setStringSetting("NormalRecoderPathTF",I.value.NormalRecoderPathTF,"/storage/sdcard/360Videos/AccOn")}catch(e){}}function p(){try{window.androidFunction.setStringSetting("NormalRecoderPathSD",I.value.NormalRecoderPathSD,"/sdcard/360Videos/AccOn")}catch(e){}}const v=[{text:"1分钟",value:1},{text:"3分钟",value:3},{text:"5分钟",value:5},{text:"10分钟",value:10}],j=Object(s["ref"])(!1),h=({selectedOptions:e})=>{j.value=!1,I.value.NormalRecoderTime=e[0].value,M("NormalRecoderTime",I.value.NormalRecoderTime,1)},g=[{text:"2560x1440/2560x1920",value:1},{text:"1920x1080/1920x1440",value:4},{text:"1280x720/1280x960（海豚最大分辨率）",value:2},{text:"960x540/960x720",value:5},{text:"640x360/640x480",value:3}],V=Object(s["ref"])(!1),N=({selectedOptions:e})=>{V.value=!1,I.value.NormalRecoderResolution=e[0].value,_(I.value.NormalRecoderResolution)};function C(e,t){if(e){let a=e.find(e=>e.value==t);if(a)return a.text}}const x=[{text:"25帧",value:25},{text:"20帧",value:20},{text:"15帧",value:15},{text:"10帧",value:10}],k=Object(s["ref"])(!1),w=({selectedOptions:e})=>{k.value=!1,I.value.NormalRecoderFPS=e[0].value,M("NormalRecoderFPS",I.value.NormalRecoderFPS)},y=[{text:"10M",value:108e5},{text:"8M",value:864e4},{text:"6M",value:648e4},{text:"4M",value:432e4},{text:"2M",value:216e4},{text:"1M",value:108e4}],S=Object(s["ref"])(!1),R=({selectedOptions:e})=>{S.value=!1,I.value.NormalRecoderBitrate=e[0].value,M("NormalRecoderBitrate",I.value.NormalRecoderBitrate)};function T(e,t){try{window.androidFunction.setBoolSetting(e,t,!1)}catch(a){}}function M(e,t,a){console.log("set "+e+" to "+t);try{window.androidFunction.setIntSetting(e,t,a)}catch(o){}}const I=Object(s["ref"])({NormalWithDVR:!1,NormalWithInCar:!1,NormalRecoderWithAI:!0,NormalRecoderResolution:1,NormalRecoderTime:1,NormalRecoderFPS:25,NormalRecoderBitrate:864e4,NormalRecoderPathSD:"/sdcard/360Videos/AccOff",NormalRecoderPathTF:"/storage/sdcard/360Videos/AccOff",NormalRecoderTryTF:!0,NormalRecoderTimeWaterMark:!1,NormalRecoderViewWaterMark:!1,NormalRecoderCarInfoWaterMark:!1,NormalRecoderTryAudio:!1,NormalRecoderCarInfoWaterMarkString:"[]"});function B(){T("NormalRecoderTryAudio",I.value.NormalRecoderTryAudio),I.value.NormalRecoderTryAudio&&Object(m["b"])({title:"温馨提示",confirmButtonColor:"var(--van-primary-color)",width:"320px",className:"myConfirmDialog",message:"打开语音录制可能会导致录制错误、进度条异常、小迪收音失败等问题，如果出现异常情况，请尝试关闭录制音频选项。"}).then(()=>{}).catch(()=>{})}const W=Object(s["ref"])([]);function P(){let e=W.value.filter(e=>e.select);console.log(e),I.value.NormalRecoderCarInfoWaterMarkString=JSON.stringify(e);try{window.androidFunction.setStringSetting("NormalRecoderCarInfoWaterMarkString",I.value.NormalRecoderCarInfoWaterMarkString,"/storage/sdcard/360Videos/AccOn")}catch(t){}}function A(){let e=Object(b["c"])();try{let e=window.androidFunction.getNormalRecoderSettings();I.value=JSON.parse(e),W.value=JSON.parse(I.value.NormalRecoderCarInfoWaterMarkString)}catch(t){}W.value=W.value.concat(e.filter(e=>-1===W.value.findIndex(t=>t.name===e.name)))}function _(e){try{window.androidFunction.setNormalRecoderResolution(e)}catch(t){}}return Object(s["onMounted"])(()=>{A()}),(e,b)=>{const m=u["a"],M=d["a"],A=i["a"],_=n["a"],F=r["a"],U=c["a"],D=l["a"],z=o["a"];return Object(s["openBlock"])(),Object(s["createElementBlock"])("main",null,[Object(s["createVNode"])(A,{inset:"",style:{"margin-top":"20px"}},{default:Object(s["withCtx"])(()=>[Object(s["createVNode"])(M,{center:"",label:"通过AI进行异常情况检测和分析,方便事后查找，具体侦测参数请在侦测设置里面进行设置，此功能为会员功能","is-link":""},{title:Object(s["withCtx"])(()=>[Object(s["createTextVNode"])(" 启用AI标注 ")]),"right-icon":Object(s["withCtx"])(()=>[Object(s["createVNode"])(m,{modelValue:I.value.NormalRecoderWithAI,"onUpdate:modelValue":b[0]||(b[0]=e=>I.value.NormalRecoderWithAI=e),onChange:b[1]||(b[1]=e=>T("NormalRecoderWithAI",I.value.NormalRecoderWithAI))},null,8,["modelValue"])]),_:1})]),_:1}),Object(s["createVNode"])(A,{inset:"",style:{"margin-top":"20px"}},{default:Object(s["withCtx"])(()=>[Object(s["createVNode"])(M,{center:"",title:"同步使用记录仪镜头录制",label:"开启后除了录制360镜头外，还会调用记录仪镜头进行录制"},{"right-icon":Object(s["withCtx"])(()=>[Object(s["createVNode"])(m,{modelValue:I.value.NormalWithDVR,"onUpdate:modelValue":b[2]||(b[2]=e=>I.value.NormalWithDVR=e),onChange:b[3]||(b[3]=e=>T("NormalWithDVR",I.value.NormalWithDVR))},null,8,["modelValue"])]),_:1}),Object(s["createVNode"])(M,{center:"",title:"同步使用车内镜头录制",label:"开启后除了录制360镜头外，还会调用车内镜头进行录制"},{"right-icon":Object(s["withCtx"])(()=>[Object(s["createVNode"])(m,{modelValue:I.value.NormalWithInCar,"onUpdate:modelValue":b[4]||(b[4]=e=>I.value.NormalWithInCar=e),onChange:b[5]||(b[5]=e=>T("NormalWithInCar",I.value.NormalWithInCar))},null,8,["modelValue"])]),_:1})]),_:1}),Object(s["createVNode"])(A,{inset:"",style:{"margin-top":"20px"}},{default:Object(s["withCtx"])(()=>[Object(s["createVNode"])(M,{center:"","is-link":"",onClick:b[6]||(b[6]=e=>j.value=!0)},{title:Object(s["withCtx"])(()=>[Object(s["createTextVNode"])(" 分段录制时长 ")]),"right-icon":Object(s["withCtx"])(()=>[Object(s["createTextVNode"])(Object(s["toDisplayString"])(I.value.NormalRecoderTime)+"分钟 ",1),Object(s["createVNode"])(_,{name:"arrow"})]),_:1}),Object(s["createVNode"])(U,{show:j.value,"onUpdate:show":b[8]||(b[8]=e=>j.value=e),round:"",position:"bottom"},{default:Object(s["withCtx"])(()=>[Object(s["createVNode"])(F,{columns:v,onCancel:b[7]||(b[7]=e=>j.value=!1),onConfirm:h})]),_:1},8,["show"]),Object(s["createVNode"])(M,{center:"",label:"分辨率越低，CPU、内存和存储开销越小，会降低视频画质","is-link":"",onClick:b[9]||(b[9]=e=>V.value=!0)},{title:Object(s["withCtx"])(()=>[Object(s["createTextVNode"])(" 录制分辨率 ")]),"right-icon":Object(s["withCtx"])(()=>[Object(s["createTextVNode"])(Object(s["toDisplayString"])(C(g,I.value.NormalRecoderResolution))+" ",1),Object(s["createVNode"])(_,{name:"arrow"})]),_:1}),Object(s["createVNode"])(U,{show:V.value,"onUpdate:show":b[11]||(b[11]=e=>V.value=e),round:"",position:"bottom"},{default:Object(s["withCtx"])(()=>[Object(s["createVNode"])(F,{columns:g,onCancel:b[10]||(b[10]=e=>V.value=!1),onConfirm:N})]),_:1},8,["show"]),Object(s["createVNode"])(M,{center:"",label:"帧率越低，CPU、内存和存储开销越小，会降低视频流畅度","is-link":"",onClick:b[12]||(b[12]=e=>k.value=!0)},{title:Object(s["withCtx"])(()=>[Object(s["createTextVNode"])(" 录制帧率 ")]),"right-icon":Object(s["withCtx"])(()=>[Object(s["createTextVNode"])(Object(s["toDisplayString"])(I.value.NormalRecoderFPS)+"帧 ",1),Object(s["createVNode"])(_,{name:"arrow"})]),_:1}),Object(s["createVNode"])(U,{show:k.value,"onUpdate:show":b[14]||(b[14]=e=>k.value=e),round:"",position:"bottom"},{default:Object(s["withCtx"])(()=>[Object(s["createVNode"])(F,{columns:x,onCancel:b[13]||(b[13]=e=>k.value=!1),onConfirm:w})]),_:1},8,["show"]),Object(s["createVNode"])(M,{center:"",label:"码率越低，CPU、内存和存储开销越小，会降低视频画质","is-link":"",onClick:b[15]||(b[15]=e=>S.value=!0)},{title:Object(s["withCtx"])(()=>[Object(s["createTextVNode"])(" 录制码率 ")]),"right-icon":Object(s["withCtx"])(()=>[Object(s["createTextVNode"])(Object(s["toDisplayString"])(C(y,I.value.NormalRecoderBitrate))+" ",1),Object(s["createVNode"])(_,{name:"arrow"})]),_:1}),Object(s["createVNode"])(U,{show:S.value,"onUpdate:show":b[17]||(b[17]=e=>S.value=e),round:"",position:"bottom"},{default:Object(s["withCtx"])(()=>[Object(s["createVNode"])(F,{columns:y,onCancel:b[16]||(b[16]=e=>S.value=!1),onConfirm:R})]),_:1},8,["show"]),Object(s["createVNode"])(M,{center:"",label:"麦克风可用时，录制音频，需要管理器打开熄火后保持活跃选项，否则不生效","is-link":""},{title:Object(s["withCtx"])(()=>[Object(s["createTextVNode"])(" 录制音频 ")]),"right-icon":Object(s["withCtx"])(()=>[Object(s["createVNode"])(m,{modelValue:I.value.NormalRecoderTryAudio,"onUpdate:modelValue":b[18]||(b[18]=e=>I.value.NormalRecoderTryAudio=e),onClick:B},null,8,["modelValue"])]),_:1})]),_:1}),Object(s["createVNode"])(A,{inset:"",style:{"margin-top":"20px"}},{default:Object(s["withCtx"])(()=>[Object(s["createVNode"])(M,{center:"",label:"视频左上角显示录制时间","is-link":""},{title:Object(s["withCtx"])(()=>[Object(s["createTextVNode"])(" 时间水印 ")]),"right-icon":Object(s["withCtx"])(()=>[Object(s["createVNode"])(m,{modelValue:I.value.NormalRecoderTimeWaterMark,"onUpdate:modelValue":b[19]||(b[19]=e=>I.value.NormalRecoderTimeWaterMark=e),onClick:b[20]||(b[20]=e=>T("NormalRecoderTimeWaterMark",I.value.NormalRecoderTimeWaterMark))},null,8,["modelValue"])]),_:1}),Object(s["createVNode"])(M,{center:"",label:"视频显示摄像头前后左右图标，方便区分摄像头位置","is-link":""},{title:Object(s["withCtx"])(()=>[Object(s["createTextVNode"])(" 镜头位置水印 ")]),"right-icon":Object(s["withCtx"])(()=>[Object(s["createVNode"])(m,{modelValue:I.value.NormalRecoderViewWaterMark,"onUpdate:modelValue":b[21]||(b[21]=e=>I.value.NormalRecoderViewWaterMark=e),onClick:b[22]||(b[22]=e=>T("NormalRecoderViewWaterMark",I.value.NormalRecoderViewWaterMark))},null,8,["modelValue"])]),_:1}),Object(s["createVNode"])(M,{center:"",label:"视频显示车辆信息水印，如速度、油门、刹车、电量等","is-link":""},{title:Object(s["withCtx"])(()=>[Object(s["createTextVNode"])(" 车辆信息水印 ")]),"right-icon":Object(s["withCtx"])(()=>[Object(s["createVNode"])(m,{modelValue:I.value.NormalRecoderCarInfoWaterMark,"onUpdate:modelValue":b[23]||(b[23]=e=>I.value.NormalRecoderCarInfoWaterMark=e),onClick:b[24]||(b[24]=e=>T("NormalRecoderCarInfoWaterMark",I.value.NormalRecoderCarInfoWaterMark))},null,8,["modelValue"])]),_:1}),I.value.NormalRecoderCarInfoWaterMark?(Object(s["openBlock"])(!0),Object(s["createElementBlock"])(s["Fragment"],{key:0},Object(s["renderList"])(W.value,e=>(Object(s["openBlock"])(),Object(s["createBlock"])(M,{key:"Normal"+e.name,title:e.name},{"right-icon":Object(s["withCtx"])(()=>[Object(s["createVNode"])(D,{name:e.name,modelValue:e.select,"onUpdate:modelValue":t=>e.select=t,onChange:P},null,8,["name","modelValue","onUpdate:modelValue"])]),_:2},1032,["title"]))),128)):Object(s["createCommentVNode"])("",!0)]),_:1}),Object(s["createVNode"])(A,{inset:"",style:{"margin-top":"20px"}},{default:Object(s["withCtx"])(()=>[Object(s["createVNode"])(U,{show:a.value,"onUpdate:show":b[26]||(b[26]=e=>a.value=e),round:""},{default:Object(s["withCtx"])(()=>[Object(s["createVNode"])(z,{name:"slider",modelValue:I.value.NormalRecoderPathSD,"onUpdate:modelValue":b[25]||(b[25]=e=>I.value.NormalRecoderPathSD=e),label:"存储路径",style:{margin:"20px 0",padding:"20px","padding-right":"30px"},onChange:p},null,8,["modelValue"])]),_:1},8,["show"]),Object(s["createVNode"])(M,{center:"",label:"路径："+I.value.NormalRecoderPathSD,onClick:b[27]||(b[27]=e=>Object(s["unref"])(O["b"])("如需修改，请在存储管理中修改路径")),"is-link":""},{title:Object(s["withCtx"])(()=>[Object(s["createTextVNode"])(" 内部存储路径 ")]),"right-icon":Object(s["withCtx"])(()=>[Object(s["createVNode"])(_,{name:"arrow"})]),_:1},8,["label"]),Object(s["createVNode"])(U,{show:t.value,"onUpdate:show":b[29]||(b[29]=e=>t.value=e),round:""},{default:Object(s["withCtx"])(()=>[Object(s["createVNode"])(z,{name:"slider",modelValue:I.value.NormalRecoderPathTF,"onUpdate:modelValue":b[28]||(b[28]=e=>I.value.NormalRecoderPathTF=e),label:"存储路径",style:{margin:"20px 0",padding:"20px","padding-right":"30px"},onChange:f},null,8,["modelValue"])]),_:1},8,["show"])]),_:1})])}}};const p=f;t["default"]=p},"1fac":function(e,t,a){"use strict";a("68ef"),a("cb51"),a("3743"),a("0a6e"),a("2381")},"21a7":function(e,t,a){"use strict";a("68ef"),a("cb51"),a("3743"),a("1a04"),a("1146")},2381:function(e,t,a){},"4d86":function(e,t,a){"use strict";a("68ef"),a("5c56")},"5c56":function(e,t,a){},"6c43":function(e,t,a){"use strict";a.d(t,"a",(function(){return S})),a.d(t,"b",(function(){return w}));var o=a("7a23"),l=a("fa7c"),c=a("6872"),r=a("1fba"),n=a("e5f6");let i=0;function d(e){e?(i||document.body.classList.add("van-toast--unclickable"),i++):i&&(i--,i||document.body.classList.remove("van-toast--unclickable"))}var u=a("9a1c"),s=a("5f24"),b=a("5913");const[m,O]=Object(r["a"])("toast"),f=["show","overlay","teleport","transition","overlayClass","overlayStyle","closeOnClickOverlay"],p={icon:String,show:Boolean,type:Object(n["e"])("text"),overlay:Boolean,message:n["f"],iconSize:n["f"],duration:Object(n["b"])(2e3),position:Object(n["e"])("middle"),teleport:[String,Object],wordBreak:String,className:n["h"],iconPrefix:String,transition:Object(n["e"])("van-fade"),loadingType:String,forbidClick:Boolean,overlayClass:n["h"],overlayStyle:Object,closeOnClick:Boolean,closeOnClickOverlay:Boolean};var v=Object(o["defineComponent"])({name:m,props:p,emits:["update:show"],setup(e,{emit:t,slots:a}){let c,r=!1;const n=()=>{const t=e.show&&e.forbidClick;r!==t&&(r=t,d(r))},i=e=>t("update:show",e),m=()=>{e.closeOnClick&&i(!1)},p=()=>clearTimeout(c),v=()=>{const{icon:t,type:a,iconSize:l,iconPrefix:c,loadingType:r}=e,n=t||"success"===a||"fail"===a;return n?Object(o["createVNode"])(u["a"],{name:t||a,size:l,class:O("icon"),classPrefix:c},null):"loading"===a?Object(o["createVNode"])(b["a"],{class:O("loading"),size:l,type:r},null):void 0},j=()=>{const{type:t,message:c}=e;return a.message?Object(o["createVNode"])("div",{class:O("text")},[a.message()]):Object(l["d"])(c)&&""!==c?"html"===t?Object(o["createVNode"])("div",{key:0,class:O("text"),innerHTML:String(c)},null):Object(o["createVNode"])("div",{class:O("text")},[c]):void 0};return Object(o["watch"])(()=>[e.show,e.forbidClick],n),Object(o["watch"])(()=>[e.show,e.type,e.message,e.duration],()=>{p(),e.show&&e.duration>0&&(c=setTimeout(()=>{i(!1)},e.duration))}),Object(o["onMounted"])(n),Object(o["onUnmounted"])(n),()=>Object(o["createVNode"])(s["a"],Object(o["mergeProps"])({class:[O([e.position,"normal"===e.wordBreak?"break-normal":e.wordBreak,{[e.type]:!e.icon}]),e.className],lockScroll:!1,onClick:m,onClosed:p,"onUpdate:show":i},Object(l["l"])(e,f)),{default:()=>[v(),j()]})}});const j={icon:"",type:"text",message:"",className:"",overlay:!1,onClose:void 0,onOpened:void 0,duration:2e3,teleport:"body",iconSize:void 0,iconPrefix:void 0,position:"middle",transition:"van-fade",forbidClick:!1,loadingType:void 0,overlayClass:"",overlayStyle:void 0,closeOnClick:!1,closeOnClickOverlay:!1};let h=[],g=!1,V=Object(l["a"])({},j);const N=new Map;function C(e){return Object(l["h"])(e)?e:{message:e}}function x(){const{instance:e,unmount:t}=Object(c["a"])({setup(){const a=Object(o["ref"])(""),{open:l,state:r,close:n,toggle:i}=Object(c["b"])(),d=()=>{g&&(h=h.filter(t=>t!==e),t())},u=()=>{const e={onClosed:d,"onUpdate:show":i};return Object(o["createVNode"])(v,Object(o["mergeProps"])(r,e),null)};return Object(o["watch"])(a,e=>{r.message=e}),Object(o["getCurrentInstance"])().render=u,{open:l,close:n,message:a}}});return e}function k(){if(!h.length||g){const e=x();h.push(e)}return h[h.length-1]}function w(e={}){if(!l["c"])return{};const t=k(),a=C(e);return t.open(Object(l["a"])({},V,N.get(a.type||V.type),a)),t}const y=e=>t=>w(Object(l["a"])({type:e},C(t))),S=(y("loading"),y("success"),y("fail"))},"72ff":function(e,t,a){"use strict";a("68ef"),a("e3b3"),a("d9d2")},"7a4d":function(e,t,a){"use strict";a.d(t,"a",(function(){return s})),a.d(t,"b",(function(){return b}));var o=a("7a23"),l=a("1fba"),c=a("e5f6"),r=a("450f"),n=a("efd9");const[i,d]=Object(l["a"])("checkbox-group"),u={max:c["f"],shape:Object(c["e"])("round"),disabled:Boolean,iconSize:c["f"],direction:String,modelValue:Object(c["a"])(),checkedColor:String},s=Symbol(i);var b=Object(o["defineComponent"])({name:i,props:u,emits:["change","update:modelValue"],setup(e,{emit:t,slots:a}){const{children:l,linkChildren:c}=Object(r["useChildren"])(s),i=e=>t("update:modelValue",e),u=(e={})=>{"boolean"===typeof e&&(e={checked:e});const{checked:t,skipDisabled:a}=e,o=l.filter(e=>!!e.props.bindGroup&&(e.props.disabled&&a?e.checked.value:null!=t?t:!e.checked.value)),c=o.map(e=>e.name);i(c)};return Object(o["watch"])(()=>e.modelValue,e=>t("change",e)),Object(n["a"])({toggleAll:u}),Object(r["useCustomFieldValue"])(()=>e.modelValue),c({props:e,updateValue:i}),()=>{var t;return Object(o["createVNode"])("div",{class:d([e.direction])},[null==(t=a.default)?void 0:t.call(a)])}}})},a136:function(e,t,a){"use strict";a.d(t,"a",(function(){return m}));var o=a("23f9"),l=a("7a23"),c=a("1fba"),r=a("e5f6"),n=a("d243"),i=a("0baf");const[d,u]=Object(c["a"])("cell-group"),s={title:String,inset:Boolean,border:r["g"]};var b=Object(l["defineComponent"])({name:d,inheritAttrs:!1,props:s,setup(e,{slots:t,attrs:a}){const o=()=>{var o;return Object(l["createVNode"])("div",Object(l["mergeProps"])({class:[u({inset:e.inset}),{[n["e"]]:e.border&&!e.inset}]},a,Object(i["a"])()),[null==(o=t.default)?void 0:o.call(t)])},c=()=>Object(l["createVNode"])("div",{class:u("title",{inset:e.inset})},[t.title?t.title():e.title]);return()=>e.title||t.title?Object(l["createVNode"])(l["Fragment"],null,[c(),o()]):o()}});const m=Object(o["a"])(b)},b730:function(e,t,a){"use strict";a.d(t,"a",(function(){return h}));var o=a("23f9"),l=a("7a23"),c=a("1fba"),r=a("fa7c"),n=a("e5f6"),i=a("7a4d"),d=a("450f"),u=a("efd9"),s=a("5aa0"),b=a("9a1c");const m={name:n["h"],disabled:Boolean,iconSize:n["f"],modelValue:n["h"],checkedColor:String,labelPosition:String,labelDisabled:Boolean};var O=Object(l["defineComponent"])({props:Object(r["a"])({},m,{bem:Object(n["d"])(Function),role:String,shape:String,parent:Object,checked:Boolean,bindGroup:n["g"],indeterminate:{type:Boolean,default:null}}),emits:["click","toggle"],setup(e,{emit:t,slots:a}){const o=Object(l["ref"])(),c=t=>{if(e.parent&&e.bindGroup)return e.parent.props[t]},r=Object(l["computed"])(()=>{if(e.parent&&e.bindGroup){const t=c("disabled")||e.disabled;if("checkbox"===e.role){const a=c("modelValue").length,o=c("max"),l=o&&a>=+o;return t||l&&!e.checked}return t}return e.disabled}),n=Object(l["computed"])(()=>c("direction")),i=Object(l["computed"])(()=>{const t=e.checkedColor||c("checkedColor");if(t&&e.checked&&!r.value)return{borderColor:t,backgroundColor:t}}),d=Object(l["computed"])(()=>e.shape||c("shape")||"round"),u=a=>{const{target:l}=a,c=o.value,n=c===l||(null==c?void 0:c.contains(l));r.value||!n&&e.labelDisabled||t("toggle"),t("click",a)},m=()=>{var t,n;const{bem:u,checked:m,indeterminate:O}=e,f=e.iconSize||c("iconSize");return Object(l["createVNode"])("div",{ref:o,class:u("icon",[d.value,{disabled:r.value,checked:m,indeterminate:O}]),style:"dot"!==d.value?{fontSize:Object(s["b"])(f)}:{width:Object(s["b"])(f),height:Object(s["b"])(f),borderColor:null==(t=i.value)?void 0:t.borderColor}},[a.icon?a.icon({checked:m,disabled:r.value}):"dot"!==d.value?Object(l["createVNode"])(b["a"],{name:O?"minus":"success",style:i.value},null):Object(l["createVNode"])("div",{class:u("icon--dot__icon"),style:{backgroundColor:null==(n=i.value)?void 0:n.backgroundColor}},null)])},O=()=>{const{checked:t}=e;if(a.default)return Object(l["createVNode"])("span",{class:e.bem("label",[e.labelPosition,{disabled:r.value}])},[a.default({checked:t,disabled:r.value})])};return()=>{const t="left"===e.labelPosition?[O(),m()]:[m(),O()];return Object(l["createVNode"])("div",{role:e.role,class:e.bem([{disabled:r.value,"label-disabled":e.labelDisabled},n.value]),tabindex:r.value?void 0:0,"aria-checked":e.checked,onClick:u},[t])}}});const[f,p]=Object(c["a"])("checkbox"),v=Object(r["a"])({},m,{shape:String,bindGroup:n["g"],indeterminate:{type:Boolean,default:null}});var j=Object(l["defineComponent"])({name:f,props:v,emits:["change","update:modelValue"],setup(e,{emit:t,slots:a}){const{parent:o}=Object(d["useParent"])(i["a"]),c=t=>{const{name:a}=e,{max:l,modelValue:c}=o.props,r=c.slice();if(t){const t=l&&r.length>=+l;t||r.includes(a)||(r.push(a),e.bindGroup&&o.updateValue(r))}else{const t=r.indexOf(a);-1!==t&&(r.splice(t,1),e.bindGroup&&o.updateValue(r))}},n=Object(l["computed"])(()=>o&&e.bindGroup?-1!==o.props.modelValue.indexOf(e.name):!!e.modelValue),s=(a=!n.value)=>{o&&e.bindGroup?c(a):t("update:modelValue",a),null!==e.indeterminate&&t("change",a)};return Object(l["watch"])(()=>e.modelValue,a=>{null===e.indeterminate&&t("change",a)}),Object(u["a"])({toggle:s,props:e,checked:n}),Object(d["useCustomFieldValue"])(()=>e.modelValue),()=>Object(l["createVNode"])(O,Object(l["mergeProps"])({bem:p,role:"checkbox",parent:o,checked:n.value,onToggle:s},e),Object(r["l"])(a,["default","icon"]))}});const h=Object(o["a"])(j)},d9d2:function(e,t,a){},e31f:function(e,t,a){"use strict";a.d(t,"a",(function(){return O}));var o=a("23f9"),l=a("7a23"),c=a("1fba"),r=a("e5f6"),n=a("5aa0"),i=a("450f"),d=a("5913");const[u,s]=Object(c["a"])("switch"),b={size:r["f"],loading:Boolean,disabled:Boolean,modelValue:r["h"],activeColor:String,inactiveColor:String,activeValue:{type:r["h"],default:!0},inactiveValue:{type:r["h"],default:!1}};var m=Object(l["defineComponent"])({name:u,props:b,emits:["change","update:modelValue"],setup(e,{emit:t,slots:a}){const o=()=>e.modelValue===e.activeValue,c=()=>{if(!e.disabled&&!e.loading){const a=o()?e.inactiveValue:e.activeValue;t("update:modelValue",a),t("change",a)}},r=()=>{if(e.loading){const t=o()?e.activeColor:e.inactiveColor;return Object(l["createVNode"])(d["a"],{class:s("loading"),color:t},null)}if(a.node)return a.node()};return Object(i["useCustomFieldValue"])(()=>e.modelValue),()=>{var t;const{size:i,loading:d,disabled:u,activeColor:b,inactiveColor:m}=e,O=o(),f={fontSize:Object(n["b"])(i),backgroundColor:O?b:m};return Object(l["createVNode"])("div",{role:"switch",class:s({on:O,loading:d,disabled:u}),style:f,tabindex:u?void 0:0,"aria-checked":O,onClick:c},[Object(l["createVNode"])("div",{class:s("node")},[r()]),null==(t=a.background)?void 0:t.call(a)])}}});const O=Object(o["a"])(m)},f23a:function(e,t,a){"use strict";a.d(t,"a",(function(){return I}));var o=a("23f9"),l=a("7a23"),c=a("1fba"),r=a("e5f6"),n=a("fa7c"),i=a("d243"),d=a("5aa0"),u=a("8db7");function s(e){return Array.isArray(e)?!e.length:0!==e&&!e}function b(e,t){if(s(e)){if(t.required)return!1;if(!1===t.validateEmpty)return!0}return!(t.pattern&&!t.pattern.test(String(e)))}function m(e,t){return new Promise(a=>{const o=t.validator(e,t);Object(n["i"])(o)?o.then(a):a(o)})}function O(e,t){const{message:a}=t;return Object(n["e"])(a)?a(e,t):a||""}function f({target:e}){e.composing=!0}function p({target:e}){e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}function v(e,t){const a=Object(u["b"])();e.style.height="auto";let o=e.scrollHeight;if(Object(n["h"])(t)){const{maxHeight:e,minHeight:a}=t;void 0!==e&&(o=Math.min(o,e)),void 0!==a&&(o=Math.max(o,a))}o&&(e.style.height=o+"px",Object(u["g"])(a))}function j(e){return"number"===e?{type:"text",inputmode:"decimal"}:"digit"===e?{type:"tel",inputmode:"numeric"}:{type:e}}function h(e){return[...e].length}function g(e,t){return[...e].slice(0,t).join("")}var V=a("3d6b"),N=a("450f"),C=a("05df"),x=a("efd9"),k=a("9a1c"),w=a("6c44");const[y,S]=Object(c["a"])("field"),R={id:String,name:String,leftIcon:String,rightIcon:String,autofocus:Boolean,clearable:Boolean,maxlength:r["f"],formatter:Function,clearIcon:Object(r["e"])("clear"),modelValue:Object(r["c"])(""),inputAlign:String,placeholder:String,autocomplete:String,autocapitalize:String,autocorrect:String,errorMessage:String,enterkeyhint:String,clearTrigger:Object(r["e"])("focus"),formatTrigger:Object(r["e"])("onChange"),spellcheck:{type:Boolean,default:null},error:{type:Boolean,default:null},disabled:{type:Boolean,default:null},readonly:{type:Boolean,default:null}},T=Object(n["a"])({},V["a"],R,{rows:r["f"],type:Object(r["e"])("text"),rules:Array,autosize:[Boolean,Object],labelWidth:r["f"],labelClass:r["h"],labelAlign:String,showWordLimit:Boolean,errorMessageAlign:String,colon:{type:Boolean,default:null}});var M=Object(l["defineComponent"])({name:y,props:T,emits:["blur","focus","clear","keypress","clickInput","endValidate","startValidate","clickLeftIcon","clickRightIcon","update:modelValue"],setup(e,{emit:t,slots:a}){const o=Object(C["a"])(),c=Object(l["reactive"])({status:"unvalidated",focused:!1,validateMessage:""}),r=Object(l["ref"])(),V=Object(l["ref"])(),y=Object(l["ref"])(),{parent:R}=Object(N["useParent"])(i["g"]),T=()=>{var t;return String(null!=(t=e.modelValue)?t:"")},M=t=>Object(n["d"])(e[t])?e[t]:R&&Object(n["d"])(R.props[t])?R.props[t]:void 0,I=Object(l["computed"])(()=>{const t=M("readonly");if(e.clearable&&!t){const t=""!==T(),a="always"===e.clearTrigger||"focus"===e.clearTrigger&&c.focused;return t&&a}return!1}),B=Object(l["computed"])(()=>y.value&&a.input?y.value():e.modelValue),W=Object(l["computed"])(()=>{var t;const a=M("required");return"auto"===a?null==(t=e.rules)?void 0:t.some(e=>e.required):a}),P=e=>e.reduce((e,t)=>e.then(()=>{if("failed"===c.status)return;let{value:e}=B;if(t.formatter&&(e=t.formatter(e,t)),!b(e,t))return c.status="failed",void(c.validateMessage=O(e,t));if(t.validator){if(s(e)&&!1===t.validateEmpty)return;return m(e,t).then(a=>{a&&"string"===typeof a?(c.status="failed",c.validateMessage=a):!1===a&&(c.status="failed",c.validateMessage=O(e,t))})}}),Promise.resolve()),A=()=>{c.status="unvalidated",c.validateMessage=""},_=()=>t("endValidate",{status:c.status,message:c.validateMessage}),F=(a=e.rules)=>new Promise(o=>{A(),a?(t("startValidate"),P(a).then(()=>{"failed"===c.status?(o({name:e.name,message:c.validateMessage}),_()):(c.status="passed",o(),_())})):o()}),U=t=>{if(R&&e.rules){const{validateTrigger:a}=R.props,o=Object(n["m"])(a).includes(t),l=e.rules.filter(e=>e.trigger?Object(n["m"])(e.trigger).includes(t):o);l.length&&F(l)}},D=t=>{var a;const{maxlength:o}=e;if(Object(n["d"])(o)&&h(t)>+o){const e=T();if(e&&h(e)===+o)return e;const l=null==(a=r.value)?void 0:a.selectionEnd;if(c.focused&&l){const e=[...t],a=e.length-+o;return e.splice(l-a,a),e.join("")}return g(t,+o)}return t},z=(a,o="onChange")=>{const l=a;a=D(a);const i=h(l)-h(a);if("number"===e.type||"digit"===e.type){const t="number"===e.type;a=Object(d["e"])(a,t,t)}let u=0;if(e.formatter&&o===e.formatTrigger){const{formatter:t,maxlength:o}=e;if(a=t(a),Object(n["d"])(o)&&h(a)>+o&&(a=g(a,+o)),r.value&&c.focused){const{selectionEnd:e}=r.value,a=g(l,e);u=h(t(a))-h(a)}}if(r.value&&r.value.value!==a)if(c.focused){let{selectionStart:e,selectionEnd:t}=r.value;if(r.value.value=a,Object(n["d"])(e)&&Object(n["d"])(t)){const o=h(a);i?(e-=i,t-=i):u&&(e+=u,t+=u),r.value.setSelectionRange(Math.min(e,o),Math.min(t,o))}}else r.value.value=a;a!==e.modelValue&&t("update:modelValue",a)},E=e=>{e.target.composing||z(e.target.value)},L=()=>{var e;return null==(e=r.value)?void 0:e.blur()},G=()=>{var e;return null==(e=r.value)?void 0:e.focus()},J=()=>{const t=r.value;"textarea"===e.type&&e.autosize&&t&&v(t,e.autosize)},q=e=>{c.focused=!0,t("focus",e),Object(l["nextTick"])(J),M("readonly")&&L()},H=e=>{c.focused=!1,z(T(),"onBlur"),t("blur",e),M("readonly")||(U("onBlur"),Object(l["nextTick"])(J),Object(u["f"])())},K=e=>t("clickInput",e),Y=e=>t("clickLeftIcon",e),$=e=>t("clickRightIcon",e),Q=e=>{Object(u["e"])(e),t("update:modelValue",""),t("clear",e)},X=Object(l["computed"])(()=>"boolean"===typeof e.error?e.error:!(!R||!R.props.showError||"failed"!==c.status)||void 0),Z=Object(l["computed"])(()=>{const e=M("labelWidth"),t=M("labelAlign");if(e&&"top"!==t)return{width:Object(d["b"])(e)}}),ee=a=>{const o=13;if(a.keyCode===o){const t=R&&R.props.submitOnEnter;t||"textarea"===e.type||Object(u["e"])(a),"search"===e.type&&L()}t("keypress",a)},te=()=>e.id||o+"-input",ae=()=>c.status,oe=()=>{const t=S("control",[M("inputAlign"),{error:X.value,custom:!!a.input,"min-height":"textarea"===e.type&&!e.autosize}]);if(a.input)return Object(l["createVNode"])("div",{class:t,onClick:K},[a.input()]);const c={id:te(),ref:r,name:e.name,rows:void 0!==e.rows?+e.rows:void 0,class:t,disabled:M("disabled"),readonly:M("readonly"),autofocus:e.autofocus,placeholder:e.placeholder,autocomplete:e.autocomplete,autocapitalize:e.autocapitalize,autocorrect:e.autocorrect,enterkeyhint:e.enterkeyhint,spellcheck:e.spellcheck,"aria-labelledby":e.label?o+"-label":void 0,onBlur:H,onFocus:q,onInput:E,onClick:K,onChange:p,onKeypress:ee,onCompositionend:p,onCompositionstart:f};return"textarea"===e.type?Object(l["createVNode"])("textarea",c,null):Object(l["createVNode"])("input",Object(l["mergeProps"])(j(e.type),c),null)},le=()=>{const t=a["left-icon"];if(e.leftIcon||t)return Object(l["createVNode"])("div",{class:S("left-icon"),onClick:Y},[t?t():Object(l["createVNode"])(k["a"],{name:e.leftIcon,classPrefix:e.iconPrefix},null)])},ce=()=>{const t=a["right-icon"];if(e.rightIcon||t)return Object(l["createVNode"])("div",{class:S("right-icon"),onClick:$},[t?t():Object(l["createVNode"])(k["a"],{name:e.rightIcon,classPrefix:e.iconPrefix},null)])},re=()=>{if(e.showWordLimit&&e.maxlength){const t=h(T());return Object(l["createVNode"])("div",{class:S("word-limit")},[Object(l["createVNode"])("span",{class:S("word-num")},[t]),Object(l["createTextVNode"])("/"),e.maxlength])}},ne=()=>{if(R&&!1===R.props.showErrorMessage)return;const t=e.errorMessage||c.validateMessage;if(t){const e=a["error-message"],o=M("errorMessageAlign");return Object(l["createVNode"])("div",{class:S("error-message",o)},[e?e({message:t}):t])}},ie=()=>{const t=M("labelWidth"),c=M("labelAlign"),r=M("colon")?":":"";return a.label?[a.label(),r]:e.label?Object(l["createVNode"])("label",{id:o+"-label",for:a.input?void 0:te(),onClick:e=>{Object(u["e"])(e),G()},style:"top"===c&&t?{width:Object(d["b"])(t)}:void 0},[e.label+r]):void 0},de=()=>[Object(l["createVNode"])("div",{class:S("body")},[oe(),I.value&&Object(l["createVNode"])(k["a"],{ref:V,name:e.clearIcon,class:S("clear")},null),ce(),a.button&&Object(l["createVNode"])("div",{class:S("button")},[a.button()])]),re(),ne()];return Object(x["a"])({blur:L,focus:G,validate:F,formValue:B,resetValidation:A,getValidationStatus:ae}),Object(l["provide"])(N["CUSTOM_FIELD_INJECTION_KEY"],{customValue:y,resetValidation:A,validateWithTrigger:U}),Object(l["watch"])(()=>e.modelValue,()=>{z(T()),A(),U("onChange"),Object(l["nextTick"])(J)}),Object(l["onMounted"])(()=>{z(T(),e.formatTrigger),Object(l["nextTick"])(J)}),Object(N["useEventListener"])("touchstart",Q,{target:Object(l["computed"])(()=>{var e;return null==(e=V.value)?void 0:e.$el})}),()=>{const t=M("disabled"),o=M("labelAlign"),c=le(),r=()=>{const e=ie();return"top"===o?[c,e].filter(Boolean):e||[]};return Object(l["createVNode"])(w["a"],{size:e.size,class:S({error:X.value,disabled:t,["label-"+o]:o}),center:e.center,border:e.border,isLink:e.isLink,clickable:e.clickable,titleStyle:Z.value,valueClass:S("value"),titleClass:[S("label",[o,{required:W.value}]),e.labelClass],arrowDirection:e.arrowDirection},{icon:c&&"top"!==o?()=>c:null,title:r,value:de,extra:a.extra})}}});const I=Object(o["a"])(M)}}]);